(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();function Y(){}const mt=e=>e;function mo(e,t){for(const r in t)e[r]=t[r];return e}function Tr(e){return e()}function Xt(){return Object.create(null)}function xe(e){e.forEach(Tr)}function he(e){return typeof e=="function"}function Q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function go(e){return Object.keys(e).length===0}function Ur(e,...t){if(e==null)return Y;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function T(e,t,r){e.$$.on_destroy.push(Ur(t,r))}function Wr(e,t,r,o){if(e){const n=Xr(e,t,r,o);return e[0](n)}}function Xr(e,t,r,o){return e[1]&&o?mo(r.ctx.slice(),e[1](o(t))):r.ctx}function Yr(e,t,r,o){if(e[2]&&o){const n=e[2](o(r));if(t.dirty===void 0)return n;if(typeof n=="object"){const a=[],i=Math.max(t.dirty.length,n.length);for(let l=0;l<i;l+=1)a[l]=t.dirty[l]|n[l];return a}return t.dirty|n}return t.dirty}function Zr(e,t,r,o,n,a){if(n){const i=Xr(t,r,o,a);e.p(i,n)}}function Jr(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let o=0;o<r;o++)t[o]=-1;return t}return-1}const Kr=typeof window<"u";let Et=Kr?()=>window.performance.now():()=>Date.now(),Ht=Kr?e=>requestAnimationFrame(e):Y;const Oe=new Set;function Qr(e){Oe.forEach(t=>{t.c(e)||(Oe.delete(t),t.f())}),Oe.size!==0&&Ht(Qr)}function At(e){let t;return Oe.size===0&&Ht(Qr),{promise:new Promise(r=>{Oe.add(t={c:e,f:r})}),abort(){Oe.delete(t)}}}function y(e,t){e.appendChild(t)}function eo(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function yo(e){const t=R("style");return _o(eo(e),t),t.sheet}function _o(e,t){return y(e.head||e,t),t.sheet}function M(e,t,r){e.insertBefore(t,r||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function Ee(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function R(e){return document.createElement(e)}function q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e){return document.createTextNode(e)}function I(){return E(" ")}function Ce(){return E("")}function ve(e,t,r,o){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r,o)}function to(e){return function(t){return t.preventDefault(),e.call(this,t)}}function p(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function xo(e){return Array.from(e.childNodes)}function ne(e,t){t=""+t,e.data!==t&&(e.data=t)}function le(e,t,r,o){r==null?e.style.removeProperty(t):e.style.setProperty(t,r,o?"important":"")}function fe(e,t,r){e.classList[r?"add":"remove"](t)}function bo(e,t,{bubbles:r=!1,cancelable:o=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,o,t),n}function tt(e,t){return new e(t)}const rt=new Map;let ot=0;function $o(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function Vo(e,t){const r={stylesheet:yo(t),rules:{}};return rt.set(e,r),r}function nt(e,t,r,o,n,a,i,l=0){const u=16.666/o;let s=`{
`;for(let V=0;V<=1;V+=u){const b=t+(r-t)*a(V);s+=V*100+`%{${i(b,1-b)}}
`}const f=s+`100% {${i(r,1-r)}}
}`,c=`__svelte_${$o(f)}_${l}`,d=eo(e),{stylesheet:h,rules:x}=rt.get(d)||Vo(d,e);x[c]||(x[c]=!0,h.insertRule(`@keyframes ${c} ${f}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${c} ${o}ms linear ${n}ms 1 both`,ot+=1,c}function at(e,t){const r=(e.style.animation||"").split(", "),o=r.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),n=r.length-o.length;n&&(e.style.animation=o.join(", "),ot-=n,ot||vo())}function vo(){Ht(()=>{ot||(rt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&S(t)}),rt.clear())})}let De;function Fe(e){De=e}function gt(){if(!De)throw new Error("Function called outside component initialization");return De}function Ot(e){gt().$$.on_mount.push(e)}function wo(e){gt().$$.on_destroy.push(e)}function So(e,t){return gt().$$.context.set(e,t),t}function Mo(e){return gt().$$.context.get(e)}const Pe=[],wt=[];let Le=[];const Yt=[],ko=Promise.resolve();let St=!1;function Co(){St||(St=!0,ko.then(ro))}function te(e){Le.push(e)}const $t=new Set;let ze=0;function ro(){if(ze!==0)return;const e=De;do{try{for(;ze<Pe.length;){const t=Pe[ze];ze++,Fe(t),zo(t.$$)}}catch(t){throw Pe.length=0,ze=0,t}for(Fe(null),Pe.length=0,ze=0;wt.length;)wt.pop()();for(let t=0;t<Le.length;t+=1){const r=Le[t];$t.has(r)||($t.add(r),r())}Le.length=0}while(Pe.length);for(;Yt.length;)Yt.pop()();St=!1,$t.clear(),Fe(e)}function zo(e){if(e.fragment!==null){e.update(),xe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}function No(e){const t=[],r=[];Le.forEach(o=>e.indexOf(o)===-1?t.push(o):r.push(o)),r.forEach(o=>o()),Le=t}let Ie;function Lt(){return Ie||(Ie=Promise.resolve(),Ie.then(()=>{Ie=null})),Ie}function Se(e,t,r){e.dispatchEvent(bo(`${t?"intro":"outro"}${r}`))}const Qe=new Set;let me;function ye(){me={r:0,c:[],p:me}}function _e(){me.r||xe(me.c),me=me.p}function $(e,t){e&&e.i&&(Qe.delete(e),e.i(t))}function w(e,t,r,o){if(e&&e.o){if(Qe.has(e))return;Qe.add(e),me.c.push(()=>{Qe.delete(e),o&&(r&&e.d(1),o())}),e.o(t)}else o&&o()}const Rt={duration:0};function Me(e,t,r){const o={direction:"in"};let n=t(e,r,o),a=!1,i,l,u=0;function s(){i&&at(e,i)}function f(){const{delay:d=0,duration:h=300,easing:x=mt,tick:m=Y,css:V}=n||Rt;V&&(i=nt(e,0,1,h,d,x,V,u++)),m(0,1);const b=Et()+d,A=b+h;l&&l.abort(),a=!0,te(()=>Se(e,!0,"start")),l=At(P=>{if(a){if(P>=A)return m(1,0),Se(e,!0,"end"),s(),a=!1;if(P>=b){const k=x((P-b)/h);m(k,1-k)}}return a})}let c=!1;return{start(){c||(c=!0,at(e),he(n)?(n=n(o),Lt().then(f)):f())},invalidate(){c=!1},end(){a&&(s(),a=!1)}}}function jt(e,t,r){const o={direction:"out"};let n=t(e,r,o),a=!0,i;const l=me;l.r+=1;function u(){const{delay:s=0,duration:f=300,easing:c=mt,tick:d=Y,css:h}=n||Rt;h&&(i=nt(e,1,0,f,s,c,h));const x=Et()+s,m=x+f;te(()=>Se(e,!1,"start")),At(V=>{if(a){if(V>=m)return d(0,1),Se(e,!1,"end"),--l.r||xe(l.c),!1;if(V>=x){const b=c((V-x)/f);d(1-b,b)}}return a})}return he(n)?Lt().then(()=>{n=n(o),u()}):u(),{end(s){s&&n.tick&&n.tick(1,0),a&&(i&&at(e,i),a=!1)}}}function de(e,t,r,o){const n={direction:"both"};let a=t(e,r,n),i=o?0:1,l=null,u=null,s=null;function f(){s&&at(e,s)}function c(h,x){const m=h.b-i;return x*=Math.abs(m),{a:i,b:h.b,d:m,duration:x,start:h.start,end:h.start+x,group:h.group}}function d(h){const{delay:x=0,duration:m=300,easing:V=mt,tick:b=Y,css:A}=a||Rt,P={start:Et()+x,b:h};h||(P.group=me,me.r+=1),l||u?u=P:(A&&(f(),s=nt(e,i,h,m,x,V,A)),h&&b(0,1),l=c(P,m),te(()=>Se(e,h,"start")),At(k=>{if(u&&k>u.start&&(l=c(u,m),u=null,Se(e,l.b,"start"),A&&(f(),s=nt(e,i,l.b,l.duration,0,V,a.css))),l){if(k>=l.end)b(i=l.b,1-i),Se(e,l.b,"end"),u||(l.b?f():--l.group.r||xe(l.group.c)),l=null;else if(k>=l.start){const v=k-l.start;i=l.a+l.d*V(v/l.duration),b(i,1-i)}}return!!(l||u)}))}return{run(h){he(a)?Lt().then(()=>{a=a(n),d(h)}):d(h)},end(){f(),l=u=null}}}function Po(e,t){w(e,1,1,()=>{t.delete(e.key)})}function Eo(e,t,r,o,n,a,i,l,u,s,f,c){let d=e.length,h=a.length,x=d;const m={};for(;x--;)m[e[x].key]=x;const V=[],b=new Map,A=new Map,P=[];for(x=h;x--;){const G=c(n,a,x),B=r(G);let W=i.get(B);W?o&&P.push(()=>W.p(G,t)):(W=s(B,G),W.c()),b.set(B,V[x]=W),B in m&&A.set(B,Math.abs(x-m[B]))}const k=new Set,v=new Set;function H(G){$(G,1),G.m(l,f),i.set(G.key,G),f=G.first,h--}for(;d&&h;){const G=V[h-1],B=e[d-1],W=G.key,D=B.key;G===B?(f=G.first,d--,h--):b.has(D)?!i.has(W)||k.has(W)?H(G):v.has(D)?d--:A.get(W)>A.get(D)?(v.add(W),H(G)):(k.add(D),d--):(u(B,i),d--)}for(;d--;){const G=e[d];b.has(G.key)||u(G,i)}for(;h;)H(V[h-1]);return xe(P),V}function j(e){e&&e.c()}function O(e,t,r,o){const{fragment:n,after_update:a}=e.$$;n&&n.m(t,r),o||te(()=>{const i=e.$$.on_mount.map(Tr).filter(he);e.$$.on_destroy?e.$$.on_destroy.push(...i):xe(i),e.$$.on_mount=[]}),a.forEach(te)}function L(e,t){const r=e.$$;r.fragment!==null&&(No(r.after_update),xe(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Ho(e,t){e.$$.dirty[0]===-1&&(Pe.push(e),Co(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ae(e,t,r,o,n,a,i,l=[-1]){const u=De;Fe(e);const s=e.$$={fragment:null,ctx:[],props:a,update:Y,not_equal:n,bound:Xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Xt(),dirty:l,skip_bound:!1,root:t.target||u.$$.root};i&&i(s.root);let f=!1;if(s.ctx=r?r(e,t.props||{},(c,d,...h)=>{const x=h.length?h[0]:d;return s.ctx&&n(s.ctx[c],s.ctx[c]=x)&&(!s.skip_bound&&s.bound[c]&&s.bound[c](x),f&&Ho(e,c)),d}):[],s.update(),f=!0,xe(s.before_update),s.fragment=o?o(s.ctx):!1,t.target){if(t.hydrate){const c=xo(t.target);s.fragment&&s.fragment.l(c),c.forEach(S)}else s.fragment&&s.fragment.c();t.intro&&$(e.$$.fragment),O(e,t.target,t.anchor,t.customElement),ro()}Fe(u)}class ie{$destroy(){L(this,1),this.$destroy=Y}$on(t,r){if(!he(r))return Y;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(r),()=>{const n=o.indexOf(r);n!==-1&&o.splice(n,1)}}$set(t){this.$$set&&!go(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ao=e=>{let t=(r,o)=>{if(o)switch(o.operator){case"+":return n=>n[r]+o.operatorValue;case"-":return n=>n[r]-o.operatorValue;case"*":return n=>n[r]*o.operatorValue}return n=>n[r]};return{x:e.x?{name:Jt("x",e.x),action:t("x",e.x)}:Kt.x,y:e.y?{name:Jt("y",e.y),action:t("y",e.y)}:Kt.y}},Mt=(e,t)=>e.x>=t.x[0]&&e.x<=t.x[1]&&e.y>=t.y[0]&&e.y<=t.y[1],Zt=(e,t,r)=>{const o={x:e.x.action(t),y:e.y.action(t)};return!(o.x==t.x&&o.y==t.y)&&Mt(o,r)},Jt=(e,t)=>`${t.operator}${t.operatorValue}`.toUpperCase().replace("*","×"),Kt={x:{name:"",action:e=>e.x},y:{name:"",action:e=>e.y}},Qt=[{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-10,y:10},operations:[{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:5}},{x:{operator:"+",operatorValue:5},y:{operator:"+",operatorValue:1}},{x:{operator:"+",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"-",operatorValue:6},y:{operator:"+",operatorValue:1}}],boardSideSize:24,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-4,y:-8},operations:[{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:5}},{x:{operator:"+",operatorValue:5},y:{operator:"+",operatorValue:1}},{x:{operator:"+",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"-",operatorValue:6},y:{operator:"-",operatorValue:4}}],boardSideSize:17,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-11,y:5},operations:[{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:5}},{x:{operator:"+",operatorValue:5},y:{operator:"+",operatorValue:1}},{x:{operator:"-",operatorValue:6},y:{operator:"-",operatorValue:4}},{x:{operator:"-",operatorValue:6},y:{operator:"+",operatorValue:1}}],boardSideSize:24,maxMoves:6},{sourceCoordinate:{x:0,y:1},targetCoordinate:{x:-17,y:-19},operations:[{x:null,y:{operator:"+",operatorValue:2}},{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:5}},{x:{operator:"+",operatorValue:1},y:null},{x:{operator:"-",operatorValue:6},y:{operator:"-",operatorValue:6}}],boardSideSize:41,maxMoves:6},{sourceCoordinate:{x:0,y:1},targetCoordinate:{x:-13,y:-14},operations:[{x:null,y:{operator:"+",operatorValue:2}},{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:5}},{x:{operator:"+",operatorValue:1},y:null},{x:{operator:"-",operatorValue:6},y:{operator:"-",operatorValue:6}}],boardSideSize:30,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-6,y:13},operations:[{x:null,y:{operator:"-",operatorValue:4}},{x:null,y:{operator:"+",operatorValue:6}},{x:null,y:{operator:"+",operatorValue:5}},{x:{operator:"-",operatorValue:3},y:null}],boardSideSize:28,maxMoves:6},{sourceCoordinate:{x:0,y:1},targetCoordinate:{x:-10,y:-13},operations:[{x:null,y:{operator:"+",operatorValue:2}},{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:5}},{x:{operator:"+",operatorValue:1},y:null},{x:{operator:"-",operatorValue:6},y:{operator:"-",operatorValue:6}}],boardSideSize:28,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-2,y:1},operations:[{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:5}},{x:{operator:"+",operatorValue:5},y:{operator:"+",operatorValue:1}},{x:{operator:"+",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"-",operatorValue:6},y:{operator:"-",operatorValue:4}},{x:{operator:"-",operatorValue:6},y:{operator:"+",operatorValue:1}}],boardSideSize:22,maxMoves:6},{sourceCoordinate:{x:0,y:1},targetCoordinate:{x:-14,y:-12},operations:[{x:null,y:{operator:"+",operatorValue:2}},{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:5}},{x:{operator:"+",operatorValue:1},y:null},{x:{operator:"-",operatorValue:6},y:{operator:"-",operatorValue:6}}],boardSideSize:30,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-6,y:4},operations:[{x:null,y:{operator:"-",operatorValue:4}},{x:null,y:{operator:"+",operatorValue:6}},{x:{operator:"-",operatorValue:3},y:null}],boardSideSize:17,maxMoves:6},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:-1,y:10},operations:[{x:null,y:{operator:"+",operatorValue:4}},{x:{operator:"-",operatorValue:4},y:{operator:"-",operatorValue:4}},{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1}},{x:{operator:"-",operatorValue:1},y:{operator:"+",operatorValue:4}}],boardSideSize:22,maxMoves:7},{sourceCoordinate:{x:1,y:1},targetCoordinate:{x:10,y:-21},operations:[{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:6}},{x:null,y:{operator:"-",operatorValue:1}},{x:null,y:{operator:"-",operatorValue:3}},{x:{operator:"+",operatorValue:6},y:{operator:"-",operatorValue:4}}],boardSideSize:46,maxMoves:7},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:5,y:13},operations:[{x:{operator:"+",operatorValue:5},y:null},{x:null,y:{operator:"+",operatorValue:6}},{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:null,y:{operator:"-",operatorValue:3}}],boardSideSize:35,maxMoves:7},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:-5,y:2},operations:[{x:null,y:{operator:"+",operatorValue:4}},{x:{operator:"-",operatorValue:4},y:{operator:"-",operatorValue:4}},{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1}},{x:{operator:"-",operatorValue:1},y:{operator:"+",operatorValue:4}}],boardSideSize:15,maxMoves:7},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:-7,y:7},operations:[{x:null,y:{operator:"+",operatorValue:4}},{x:{operator:"-",operatorValue:4},y:{operator:"-",operatorValue:4}},{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1}},{x:{operator:"-",operatorValue:1},y:{operator:"+",operatorValue:4}}],boardSideSize:17,maxMoves:7},{sourceCoordinate:{x:1,y:1},targetCoordinate:{x:7,y:-24},operations:[{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:6}},{x:null,y:{operator:"-",operatorValue:1}},{x:null,y:{operator:"-",operatorValue:3}},{x:{operator:"+",operatorValue:6},y:{operator:"-",operatorValue:4}}],boardSideSize:52,maxMoves:7},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:-4,y:2},operations:[{x:null,y:{operator:"+",operatorValue:4}},{x:{operator:"-",operatorValue:4},y:{operator:"-",operatorValue:4}},{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1}},{x:{operator:"-",operatorValue:1},y:{operator:"+",operatorValue:4}}],boardSideSize:17,maxMoves:7},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:6,y:-2},operations:[{x:{operator:"+",operatorValue:5},y:null},{x:{operator:"+",operatorValue:3},y:null},{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:null,y:{operator:"-",operatorValue:3}}],boardSideSize:26,maxMoves:7},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:3,y:13},operations:[{x:{operator:"+",operatorValue:5},y:null},{x:{operator:"+",operatorValue:3},y:null},{x:null,y:{operator:"+",operatorValue:6}},{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:null,y:{operator:"-",operatorValue:3}}],boardSideSize:35,maxMoves:7},{sourceCoordinate:{x:1,y:0},targetCoordinate:{x:8,y:-2},operations:[{x:{operator:"+",operatorValue:5},y:null},{x:{operator:"+",operatorValue:3},y:null},{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:null,y:{operator:"-",operatorValue:3}}],boardSideSize:30,maxMoves:7},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-4,y:-6},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"-",operatorValue:1},y:null}],boardSideSize:13,maxMoves:4},{sourceCoordinate:{x:-1,y:1},targetCoordinate:{x:5,y:-5},operations:[{x:{operator:"*",operatorValue:2},y:{operator:"-",operatorValue:4}},{x:{operator:"+",operatorValue:3},y:{operator:"+",operatorValue:1}}],boardSideSize:13,maxMoves:4},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:4,y:-6},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:{operator:"+",operatorValue:1},y:{operator:"-",operatorValue:5}}],boardSideSize:13,maxMoves:4},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-5,y:-3},operations:[{x:{operator:"-",operatorValue:1},y:null},{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}}],boardSideSize:11,maxMoves:4},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-12,y:-6},operations:[{x:{operator:"-",operatorValue:1},y:null},{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}}],boardSideSize:26,maxMoves:4},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:9,y:-3},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:{operator:"+",operatorValue:1},y:{operator:"-",operatorValue:5}},{x:{operator:"*",operatorValue:3},y:{operator:"*",operatorValue:3}}],boardSideSize:19,maxMoves:4},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:4,y:-14},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:{operator:"+",operatorValue:1},y:{operator:"-",operatorValue:5}},{x:{operator:"*",operatorValue:3},y:{operator:"*",operatorValue:3}}],boardSideSize:30,maxMoves:4},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:1,y:3},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:{operator:"*",operatorValue:3},y:{operator:"*",operatorValue:3}},{x:{operator:"+",operatorValue:1},y:{operator:"-",operatorValue:5}}],boardSideSize:17,maxMoves:4},{sourceCoordinate:{x:-1,y:1},targetCoordinate:{x:4,y:-10},operations:[{x:{operator:"*",operatorValue:2},y:{operator:"-",operatorValue:4}},{x:{operator:"+",operatorValue:3},y:{operator:"+",operatorValue:1}}],boardSideSize:22,maxMoves:4},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-9,y:-9},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"-",operatorValue:1},y:null}],boardSideSize:19,maxMoves:4},{sourceCoordinate:{x:2,y:1},targetCoordinate:{x:-5,y:-6},operations:[{x:{operator:"+",operatorValue:1},y:{operator:"*",operatorValue:3}},{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:3}}],boardSideSize:13,maxMoves:5},{sourceCoordinate:{x:2,y:1},targetCoordinate:{x:-6,y:-7},operations:[{x:{operator:"+",operatorValue:1},y:{operator:"*",operatorValue:3}},{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:4}}],boardSideSize:15,maxMoves:5},{sourceCoordinate:{x:-1,y:2},targetCoordinate:{x:21,y:-7},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"+",operatorValue:4},y:null}],boardSideSize:46,maxMoves:5},{sourceCoordinate:{x:-1,y:2},targetCoordinate:{x:51,y:-4},operations:[{x:{operator:"+",operatorValue:4},y:null},{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}}],boardSideSize:112,maxMoves:5},{sourceCoordinate:{x:-1,y:2},targetCoordinate:{x:11,y:-4},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"+",operatorValue:4},y:null}],boardSideSize:24,maxMoves:5},{sourceCoordinate:{x:-1,y:2},targetCoordinate:{x:-19,y:19},operations:[{x:null,y:{operator:"*",operatorValue:2}},{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:{operator:"*",operatorValue:2},y:{operator:"*",operatorValue:2}},{x:{operator:"*",operatorValue:2},y:{operator:"+",operatorValue:5}}],boardSideSize:41,maxMoves:5},{sourceCoordinate:{x:2,y:1},targetCoordinate:{x:8,y:-12},operations:[{x:{operator:"+",operatorValue:1},y:{operator:"*",operatorValue:3}},{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:4}},{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:3}}],boardSideSize:26,maxMoves:5},{sourceCoordinate:{x:-1,y:2},targetCoordinate:{x:13,y:-7},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"+",operatorValue:4},y:null}],boardSideSize:28,maxMoves:5},{sourceCoordinate:{x:2,y:1},targetCoordinate:{x:-9,y:-15},operations:[{x:{operator:"-",operatorValue:3},y:{operator:"-",operatorValue:3}},{x:{operator:"+",operatorValue:1},y:{operator:"*",operatorValue:3}}],boardSideSize:33,maxMoves:5},{sourceCoordinate:{x:-1,y:2},targetCoordinate:{x:-13,y:22},operations:[{x:{operator:"*",operatorValue:2},y:{operator:"*",operatorValue:2}},{x:null,y:{operator:"*",operatorValue:2}},{x:{operator:"-",operatorValue:3},y:{operator:"+",operatorValue:2}}],boardSideSize:48,maxMoves:5},{sourceCoordinate:{x:0,y:-1},targetCoordinate:{x:-32,y:19},operations:[{x:{operator:"-",operatorValue:4},y:{operator:"+",operatorValue:4}},{x:{operator:"*",operatorValue:2},y:{operator:"+",operatorValue:2}}],boardSideSize:70,maxMoves:6},{sourceCoordinate:{x:0,y:2},targetCoordinate:{x:-7,y:1},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"*",operatorValue:2}},{x:{operator:"-",operatorValue:1},y:{operator:"-",operatorValue:3}}],boardSideSize:17,maxMoves:6},{sourceCoordinate:{x:0,y:2},targetCoordinate:{x:-8,y:-6},operations:[{x:{operator:"*",operatorValue:2},y:{operator:"*",operatorValue:3}},{x:{operator:"-",operatorValue:1},y:{operator:"-",operatorValue:3}},{x:{operator:"*",operatorValue:3},y:{operator:"*",operatorValue:2}}],boardSideSize:17,maxMoves:6},{sourceCoordinate:{x:0,y:-1},targetCoordinate:{x:-28,y:21},operations:[{x:{operator:"-",operatorValue:4},y:{operator:"+",operatorValue:4}},{x:{operator:"*",operatorValue:2},y:{operator:"+",operatorValue:2}}],boardSideSize:61,maxMoves:6},{sourceCoordinate:{x:0,y:2},targetCoordinate:{x:-6,y:3},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"*",operatorValue:2}},{x:{operator:"-",operatorValue:1},y:{operator:"-",operatorValue:3}},{x:{operator:"*",operatorValue:2},y:{operator:"*",operatorValue:3}}],boardSideSize:19,maxMoves:6},{sourceCoordinate:{x:-1,y:-1},targetCoordinate:{x:4,y:-6},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:5}},{x:{operator:"*",operatorValue:3},y:{operator:"+",operatorValue:2}},{x:{operator:"-",operatorValue:1},y:{operator:"-",operatorValue:2}},{x:{operator:"*",operatorValue:3},y:{operator:"+",operatorValue:4}}],boardSideSize:13,maxMoves:6},{sourceCoordinate:{x:0,y:-1},targetCoordinate:{x:-28,y:19},operations:[{x:{operator:"-",operatorValue:4},y:{operator:"+",operatorValue:4}},{x:{operator:"*",operatorValue:2},y:{operator:"+",operatorValue:2}}],boardSideSize:61,maxMoves:6},{sourceCoordinate:{x:0,y:2},targetCoordinate:{x:-9,y:-3},operations:[{x:{operator:"*",operatorValue:2},y:{operator:"*",operatorValue:3}},{x:{operator:"-",operatorValue:1},y:{operator:"-",operatorValue:3}}],boardSideSize:19,maxMoves:6},{sourceCoordinate:{x:-1,y:-1},targetCoordinate:{x:3,y:1},operations:[{x:{operator:"*",operatorValue:3},y:{operator:"+",operatorValue:4}},{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:5}},{x:null,y:{operator:"+",operatorValue:2}}],boardSideSize:15,maxMoves:6},{sourceCoordinate:{x:0,y:-1},targetCoordinate:{x:-24,y:21},operations:[{x:{operator:"-",operatorValue:4},y:{operator:"+",operatorValue:4}},{x:{operator:"*",operatorValue:2},y:{operator:"+",operatorValue:2}}],boardSideSize:52,maxMoves:6}],Ne=[];function Oo(e,t){return{subscribe:qe(e,t).subscribe}}function qe(e,t=Y){let r;const o=new Set;function n(l){if(Q(e,l)&&(e=l,r)){const u=!Ne.length;for(const s of o)s[1](),Ne.push(s,e);if(u){for(let s=0;s<Ne.length;s+=2)Ne[s][0](Ne[s+1]);Ne.length=0}}}function a(l){n(l(e))}function i(l,u=Y){const s=[l,u];return o.add(s),o.size===1&&(r=t(n)||Y),l(e),()=>{o.delete(s),o.size===0&&r&&(r(),r=null)}}return{set:n,update:a,subscribe:i}}function Ve(e,t,r){const o=!Array.isArray(e),n=o?[e]:e,a=t.length<2;return Oo(r,i=>{let l=!1;const u=[];let s=0,f=Y;const c=()=>{if(s)return;f();const h=t(o?u[0]:u,i);a?i(h):f=he(h)?h:Y},d=n.map((h,x)=>Ur(h,m=>{u[x]=m,s&=~(1<<x),l&&c()},()=>{s|=1<<x}));return l=!0,c(),function(){xe(d),f(),l=!1}})}const er=(e,t=null)=>{const r=window.localStorage.getItem(e);return r?JSON.parse(r):t},Lo=(e,t)=>{const{subscribe:r,update:o,set:n}=qe(er(e)??t);return r(a=>{window.localStorage.setItem(e,JSON.stringify(a))}),{subscribe:r,update:o,set:n,read:(a=null)=>er(e,a)}},Ro="currentLevel",tr=Lo(Ro,1),it={...tr,increment:()=>{tr.update(e=>e+1)}},oo=()=>{let e=it.read()-1;e>=Qt.length&&(it.set(1),e=0);const t=Qt[e],r={...t,operations:t.operations.map(Ao)};return console.log(r),r},rr={sourceCoordinate:{x:0,y:0},targetCoordinate:{x:0,y:0},operations:[],boardSideSize:0,maxMoves:0,state:{currentPath:[],currentHover:null},loaded:!1},jo=()=>{const{subscribe:e,set:t,update:r}=qe(rr);return{subscribe:e,set:t,setGameConfiguration:o=>t({...o,state:{currentPath:[o.sourceCoordinate],currentHover:null},loaded:!0}),addCoordinate:(o,n)=>r(a=>(Mt(o,n)&&a.state.currentPath.push(o),a.state.currentHover=null,a)),addHoverCoordinate:(o,n)=>r(a=>(Mt(o,n)&&(a.state.currentHover=o),a)),removeHoverCoordinate:()=>r(o=>(o.state.currentHover=null,o)),removeLastCoordinate:()=>r(o=>(o.state.currentPath.length>1&&(o.state.currentPath=o.state.currentPath.slice(0,-1)),o.state.currentHover=null,o)),reset:()=>t(rr),resetGameState:()=>r(o=>(o.state={currentPath:[o.sourceCoordinate],currentHover:null},o))}},re=jo(),no=Ve(re,e=>e.state.currentPath),yt=Ve(re,e=>{let t=e.state.currentPath;return t.length>0?t[t.length-1]:e.sourceCoordinate}),Bo=Ve(re,e=>e.state.currentHover),Bt=Ve([re,yt],([e,t])=>e.targetCoordinate.x==t.x&&e.targetCoordinate.y==t.y),ao=Ve(re,e=>e.maxMoves-e.state.currentPath.length+1),Go=Ve([Bt,ao],([e,t])=>e?!1:t>0),qo=()=>{const{subscribe:e,set:t}=qe({height:1,width:1});return{subscribe:e,set:t}},je=qo();Ve(je,e=>e?e.height/2>e.width:!1);const Io=Ve(je,e=>e?e.height/2:0);function Fo(e){let t,r;const o=e[2].default,n=Wr(o,e,e[1],null);return{c(){t=R("div"),n&&n.c(),p(t,"id","display-provider"),le(t,"height",e[0].height+"px"),le(t,"width",e[0].width+"px")},m(a,i){M(a,t,i),n&&n.m(t,null),r=!0},p(a,[i]){n&&n.p&&(!r||i&2)&&Zr(n,o,a,a[1],r?Yr(o,a[1],i,null):Jr(a[1]),null),(!r||i&1)&&le(t,"height",a[0].height+"px"),(!r||i&1)&&le(t,"width",a[0].width+"px")},i(a){r||($(n,a),r=!0)},o(a){w(n,a),r=!1},d(a){a&&S(t),n&&n.d(a)}}}function Do(e,t,r){let o;T(e,je,l=>r(0,o=l));let{$$slots:n={},$$scope:a}=t;const i=()=>{je.set({width:window.innerWidth,height:window.innerHeight})};return Ot(()=>{i(),window.addEventListener("resize",i)}),wo(()=>{window.removeEventListener("resize",i)}),e.$$set=l=>{"$$scope"in l&&r(1,a=l.$$scope)},[o,a,n]}class To extends ie{constructor(t){super(),ae(this,t,Do,Fo,Q,{})}}function et(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function io(e){let t,r,o;e.length!==2?(t=et,r=(l,u)=>et(e(l),u),o=(l,u)=>e(l)-u):(t=e===et||e===Uo?e:Wo,r=e,o=e);function n(l,u,s=0,f=l.length){if(s<f){if(t(u,u)!==0)return f;do{const c=s+f>>>1;r(l[c],u)<0?s=c+1:f=c}while(s<f)}return s}function a(l,u,s=0,f=l.length){if(s<f){if(t(u,u)!==0)return f;do{const c=s+f>>>1;r(l[c],u)<=0?s=c+1:f=c}while(s<f)}return s}function i(l,u,s=0,f=l.length){const c=n(l,u,s,f-1);return c>s&&o(l[c-1],u)>-o(l[c],u)?c-1:c}return{left:n,center:i,right:a}}function Wo(){return 0}function Xo(e){return e===null?NaN:+e}const Yo=io(et),Zo=Yo.right;io(Xo).center;const Jo=Zo,Ko=Math.sqrt(50),Qo=Math.sqrt(10),en=Math.sqrt(2);function lt(e,t,r){const o=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(o)),a=o/Math.pow(10,n),i=a>=Ko?10:a>=Qo?5:a>=en?2:1;let l,u,s;return n<0?(s=Math.pow(10,-n)/i,l=Math.round(e*s),u=Math.round(t*s),l/s<e&&++l,u/s>t&&--u,s=-s):(s=Math.pow(10,n)*i,l=Math.round(e/s),u=Math.round(t/s),l*s<e&&++l,u*s>t&&--u),u<l&&.5<=r&&r<2?lt(e,t,r*2):[l,u,s]}function tn(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const o=t<e,[n,a,i]=o?lt(t,e,r):lt(e,t,r);if(!(a>=n))return[];const l=a-n+1,u=new Array(l);if(o)if(i<0)for(let s=0;s<l;++s)u[s]=(a-s)/-i;else for(let s=0;s<l;++s)u[s]=(a-s)*i;else if(i<0)for(let s=0;s<l;++s)u[s]=(n+s)/-i;else for(let s=0;s<l;++s)u[s]=(n+s)*i;return u}function kt(e,t,r){return t=+t,e=+e,r=+r,lt(e,t,r)[2]}function rn(e,t,r){t=+t,e=+e,r=+r;const o=t<e,n=o?kt(t,e,r):kt(e,t,r);return(o?-1:1)*(n<0?1/-n:n)}function on(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gt(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lo(e,t){var r=Object.create(e.prototype);for(var o in t)r[o]=t[o];return r}function Xe(){}var Te=.7,ut=1/Te,Re="\\s*([+-]?\\d+)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nn=/^#([0-9a-f]{3,8})$/,an=new RegExp(`^rgb\\(${Re},${Re},${Re}\\)$`),ln=new RegExp(`^rgb\\(${ge},${ge},${ge}\\)$`),un=new RegExp(`^rgba\\(${Re},${Re},${Re},${Ue}\\)$`),sn=new RegExp(`^rgba\\(${ge},${ge},${ge},${Ue}\\)$`),fn=new RegExp(`^hsl\\(${Ue},${ge},${ge}\\)$`),cn=new RegExp(`^hsla\\(${Ue},${ge},${ge},${Ue}\\)$`),or={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gt(Xe,We,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nr,formatHex:nr,formatHex8:pn,formatHsl:dn,formatRgb:ar,toString:ar});function nr(){return this.rgb().formatHex()}function pn(){return this.rgb().formatHex8()}function dn(){return uo(this).formatHsl()}function ar(){return this.rgb().formatRgb()}function We(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nn.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ir(t):r===3?new ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ze(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ze(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=an.exec(e))?new ce(t[1],t[2],t[3],1):(t=ln.exec(e))?new ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=un.exec(e))?Ze(t[1],t[2],t[3],t[4]):(t=sn.exec(e))?Ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fn.exec(e))?sr(t[1],t[2]/100,t[3]/100,1):(t=cn.exec(e))?sr(t[1],t[2]/100,t[3]/100,t[4]):or.hasOwnProperty(e)?ir(or[e]):e==="transparent"?new ce(NaN,NaN,NaN,0):null}function ir(e){return new ce(e>>16&255,e>>8&255,e&255,1)}function Ze(e,t,r,o){return o<=0&&(e=t=r=NaN),new ce(e,t,r,o)}function hn(e){return e instanceof Xe||(e=We(e)),e?(e=e.rgb(),new ce(e.r,e.g,e.b,e.opacity)):new ce}function Ct(e,t,r,o){return arguments.length===1?hn(e):new ce(e,t,r,o??1)}function ce(e,t,r,o){this.r=+e,this.g=+t,this.b=+r,this.opacity=+o}Gt(ce,Ct,lo(Xe,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Te:Math.pow(Te,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ce(ke(this.r),ke(this.g),ke(this.b),st(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lr,formatHex:lr,formatHex8:mn,formatRgb:ur,toString:ur}));function lr(){return`#${we(this.r)}${we(this.g)}${we(this.b)}`}function mn(){return`#${we(this.r)}${we(this.g)}${we(this.b)}${we((isNaN(this.opacity)?1:this.opacity)*255)}`}function ur(){const e=st(this.opacity);return`${e===1?"rgb(":"rgba("}${ke(this.r)}, ${ke(this.g)}, ${ke(this.b)}${e===1?")":`, ${e})`}`}function st(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ke(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function we(e){return e=ke(e),(e<16?"0":"")+e.toString(16)}function sr(e,t,r,o){return o<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pe(e,t,r,o)}function uo(e){if(e instanceof pe)return new pe(e.h,e.s,e.l,e.opacity);if(e instanceof Xe||(e=We(e)),!e)return new pe;if(e instanceof pe)return e;e=e.rgb();var t=e.r/255,r=e.g/255,o=e.b/255,n=Math.min(t,r,o),a=Math.max(t,r,o),i=NaN,l=a-n,u=(a+n)/2;return l?(t===a?i=(r-o)/l+(r<o)*6:r===a?i=(o-t)/l+2:i=(t-r)/l+4,l/=u<.5?a+n:2-a-n,i*=60):l=u>0&&u<1?0:i,new pe(i,l,u,e.opacity)}function gn(e,t,r,o){return arguments.length===1?uo(e):new pe(e,t,r,o??1)}function pe(e,t,r,o){this.h=+e,this.s=+t,this.l=+r,this.opacity=+o}Gt(pe,gn,lo(Xe,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Te:Math.pow(Te,e),new pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*t,n=2*r-o;return new ce(Vt(e>=240?e-240:e+120,n,o),Vt(e,n,o),Vt(e<120?e+240:e-120,n,o),this.opacity)},clamp(){return new pe(fr(this.h),Je(this.s),Je(this.l),st(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=st(this.opacity);return`${e===1?"hsl(":"hsla("}${fr(this.h)}, ${Je(this.s)*100}%, ${Je(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fr(e){return e=(e||0)%360,e<0?e+360:e}function Je(e){return Math.max(0,Math.min(1,e||0))}function Vt(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qt=e=>()=>e;function yn(e,t){return function(r){return e+r*t}}function _n(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(o){return Math.pow(e+o*t,r)}}function xn(e){return(e=+e)==1?so:function(t,r){return r-t?_n(t,r,e):qt(isNaN(t)?r:t)}}function so(e,t){var r=t-e;return r?yn(e,r):qt(isNaN(e)?t:e)}const cr=function e(t){var r=xn(t);function o(n,a){var i=r((n=Ct(n)).r,(a=Ct(a)).r),l=r(n.g,a.g),u=r(n.b,a.b),s=so(n.opacity,a.opacity);return function(f){return n.r=i(f),n.g=l(f),n.b=u(f),n.opacity=s(f),n+""}}return o.gamma=e,o}(1);function bn(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,o=t.slice(),n;return function(a){for(n=0;n<r;++n)o[n]=e[n]*(1-a)+t[n]*a;return o}}function $n(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Vn(e,t){var r=t?t.length:0,o=e?Math.min(r,e.length):0,n=new Array(o),a=new Array(r),i;for(i=0;i<o;++i)n[i]=It(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(l){for(i=0;i<o;++i)a[i]=n[i](l);return a}}function vn(e,t){var r=new Date;return e=+e,t=+t,function(o){return r.setTime(e*(1-o)+t*o),r}}function ft(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function wn(e,t){var r={},o={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=It(e[n],t[n]):o[n]=t[n];return function(a){for(n in r)o[n]=r[n](a);return o}}var zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vt=new RegExp(zt.source,"g");function Sn(e){return function(){return e}}function Mn(e){return function(t){return e(t)+""}}function kn(e,t){var r=zt.lastIndex=vt.lastIndex=0,o,n,a,i=-1,l=[],u=[];for(e=e+"",t=t+"";(o=zt.exec(e))&&(n=vt.exec(t));)(a=n.index)>r&&(a=t.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(o=o[0])===(n=n[0])?l[i]?l[i]+=n:l[++i]=n:(l[++i]=null,u.push({i,x:ft(o,n)})),r=vt.lastIndex;return r<t.length&&(a=t.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?u[0]?Mn(u[0].x):Sn(t):(t=u.length,function(s){for(var f=0,c;f<t;++f)l[(c=u[f]).i]=c.x(s);return l.join("")})}function It(e,t){var r=typeof t,o;return t==null||r==="boolean"?qt(t):(r==="number"?ft:r==="string"?(o=We(t))?(t=o,cr):kn:t instanceof We?cr:t instanceof Date?vn:$n(t)?bn:Array.isArray(t)?Vn:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wn:ft)(e,t)}function Cn(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zn(e){return function(){return e}}function Nn(e){return+e}var pr=[0,1];function He(e){return e}function Nt(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zn(isNaN(t)?NaN:.5)}function Pn(e,t){var r;return e>t&&(r=e,e=t,t=r),function(o){return Math.max(e,Math.min(t,o))}}function En(e,t,r){var o=e[0],n=e[1],a=t[0],i=t[1];return n<o?(o=Nt(n,o),a=r(i,a)):(o=Nt(o,n),a=r(a,i)),function(l){return a(o(l))}}function Hn(e,t,r){var o=Math.min(e.length,t.length)-1,n=new Array(o),a=new Array(o),i=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<o;)n[i]=Nt(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(l){var u=Jo(e,l,1,o)-1;return a[u](n[u](l))}}function An(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function On(){var e=pr,t=pr,r=It,o,n,a,i=He,l,u,s;function f(){var d=Math.min(e.length,t.length);return i!==He&&(i=Pn(e[0],e[d-1])),l=d>2?Hn:En,u=s=null,c}function c(d){return d==null||isNaN(d=+d)?a:(u||(u=l(e.map(o),t,r)))(o(i(d)))}return c.invert=function(d){return i(n((s||(s=l(t,e.map(o),ft)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Nn),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),r=Cn,f()},c.clamp=function(d){return arguments.length?(i=d?!0:He,f()):i!==He},c.interpolate=function(d){return arguments.length?(r=d,f()):r},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,h){return o=d,n=h,f()}}function Ln(){return On()(He,He)}function Rn(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ct(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}function Be(e){return e=ct(Math.abs(e)),e?e[1]:NaN}function jn(e,t){return function(r,o){for(var n=r.length,a=[],i=0,l=e[0],u=0;n>0&&l>0&&(u+l+1>o&&(l=Math.max(1,o-u)),a.push(r.substring(n-=l,n+l)),!((u+=l+1)>o));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function Bn(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Gn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pt(e){if(!(t=Gn.exec(e)))throw new Error("invalid format: "+e);var t;return new Ft({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pt.prototype=Ft.prototype;function Ft(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ft.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qn(e){e:for(var t=e.length,r=1,o=-1,n;r<t;++r)switch(e[r]){case".":o=n=r;break;case"0":o===0&&(o=r),n=r;break;default:if(!+e[r])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(n+1):e}var fo;function In(e,t){var r=ct(e,t);if(!r)return e+"";var o=r[0],n=r[1],a=n-(fo=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,i=o.length;return a===i?o:a>i?o+new Array(a-i+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+ct(e,Math.max(0,t+a-1))[0]}function dr(e,t){var r=ct(e,t);if(!r)return e+"";var o=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+o:o.length>n+1?o.slice(0,n+1)+"."+o.slice(n+1):o+new Array(n-o.length+2).join("0")}const hr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rn,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dr(e*100,t),r:dr,s:In,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mr(e){return e}var gr=Array.prototype.map,yr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fn(e){var t=e.grouping===void 0||e.thousands===void 0?mr:jn(gr.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?mr:Bn(gr.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function s(c){c=pt(c);var d=c.fill,h=c.align,x=c.sign,m=c.symbol,V=c.zero,b=c.width,A=c.comma,P=c.precision,k=c.trim,v=c.type;v==="n"?(A=!0,v="g"):hr[v]||(P===void 0&&(P=12),k=!0,v="g"),(V||d==="0"&&h==="=")&&(V=!0,d="0",h="=");var H=m==="$"?r:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",G=m==="$"?o:/[%p]/.test(v)?i:"",B=hr[v],W=/[defgprs%]/.test(v);P=P===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function D(C){var N=H,ee=G,X,Z,U;if(v==="c")ee=B(C)+ee,C="";else{C=+C;var _=C<0||1/C<0;if(C=isNaN(C)?u:B(Math.abs(C),P),k&&(C=qn(C)),_&&+C==0&&x!=="+"&&(_=!1),N=(_?x==="("?x:l:x==="-"||x==="("?"":x)+N,ee=(v==="s"?yr[8+fo/3]:"")+ee+(_&&x==="("?")":""),W){for(X=-1,Z=C.length;++X<Z;)if(U=C.charCodeAt(X),48>U||U>57){ee=(U===46?n+C.slice(X+1):C.slice(X))+ee,C=C.slice(0,X);break}}}A&&!V&&(C=t(C,1/0));var z=N.length+C.length+ee.length,g=z<b?new Array(b-z+1).join(d):"";switch(A&&V&&(C=t(g+C,g.length?b-ee.length:1/0),g=""),h){case"<":C=N+C+ee+g;break;case"=":C=N+g+C+ee;break;case"^":C=g.slice(0,z=g.length>>1)+N+C+ee+g.slice(z);break;default:C=g+N+C+ee;break}return a(C)}return D.toString=function(){return c+""},D}function f(c,d){var h=s((c=pt(c),c.type="f",c)),x=Math.max(-8,Math.min(8,Math.floor(Be(d)/3)))*3,m=Math.pow(10,-x),V=yr[8+x/3];return function(b){return h(m*b)+V}}return{format:s,formatPrefix:f}}var Ke,co,po;Dn({thousands:",",grouping:[3],currency:["$",""]});function Dn(e){return Ke=Fn(e),co=Ke.format,po=Ke.formatPrefix,Ke}function Tn(e){return Math.max(0,-Be(Math.abs(e)))}function Un(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Be(t)/3)))*3-Be(Math.abs(e)))}function Wn(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Be(t)-Be(e))+1}function Xn(e,t,r,o){var n=rn(e,t,r),a;switch(o=pt(o??",f"),o.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(a=Un(n,i))&&(o.precision=a),po(o,i)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(a=Wn(n,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=a-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(a=Tn(n))&&(o.precision=a-(o.type==="%")*2);break}}return co(o)}function Yn(e){var t=e.domain;return e.ticks=function(r){var o=t();return tn(o[0],o[o.length-1],r??10)},e.tickFormat=function(r,o){var n=t();return Xn(n[0],n[n.length-1],r??10,o)},e.nice=function(r){r==null&&(r=10);var o=t(),n=0,a=o.length-1,i=o[n],l=o[a],u,s,f=10;for(l<i&&(s=i,i=l,l=s,s=n,n=a,a=s);f-- >0;){if(s=kt(i,l,r),s===u)return o[n]=i,o[a]=l,t(o);if(s>0)i=Math.floor(i/s)*s,l=Math.ceil(l/s)*s;else if(s<0)i=Math.ceil(i*s)/s,l=Math.floor(l*s)/s;else break;u=s}return e},e}function Pt(){var e=Ln();return e.copy=function(){return An(e,Pt())},on.apply(e,arguments),Yn(e)}const dt=(e,t,r=1,o=!1)=>{if(e>t&&r>0||e<t&&r<0)return null;let n=[];if(o)for(let a=t;r>0?a>=e:a<=e;a-=r)n=[a,...n];else for(let a=e;r>0?a<=t:a>=t;a+=r)n.push(a);return n},Ae=(e,t,r=1)=>{if(e>t&&r>0||e<t&&r<0)return null;const o=dt(e,0,r,!0),n=dt(r,t,r);return o&&n?[...o,...n]:[]},_r=(e,t)=>{const r=[];for(let o=0;o<e.length;o+=t)r.push(e.slice(o,o+t));return r},Zn=e=>e.height/2>e.width,ho=(e,t)=>{const r=Zn(t),o=r?t.width:t.height/2,n=r?t.height/2:t.width,a=o/e;let i=Math.floor(n/a);return i-=i%2==0?0:1,r?{x:[-e/2,e/2],y:[-i/2,i/2]}:{x:[-i/2,i/2],y:[-e/2,e/2]}};function K(e,{delay:t=0,duration:r=400,easing:o=mt}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:o,css:a=>`opacity: ${a*n}`}}function xr(e,t,r){const o=e.slice();return o[17]=t[r],o[19]=r,o}function br(e,t,r){const o=e.slice();return o[17]=t[r],o[19]=r,o}function $r(e,t,r){const o=e.slice();return o[21]=t[r],o}function Vr(e,t,r){const o=e.slice();return o[21]=t[r],o}function vr(e){let t,r=e[21]+"",o,n,a;return{c(){t=q("text"),o=E(r),p(t,"x",n=e[2].left-e[3]*.4),p(t,"y",a="+"+e[3]*.35)},m(i,l){M(i,t,l),y(t,o)},p(i,l){l&3&&r!==(r=i[21]+"")&&ne(o,r),l&12&&n!==(n=i[2].left-i[3]*.4)&&p(t,"x",n),l&8&&a!==(a="+"+i[3]*.35)&&p(t,"y",a)},d(i){i&&S(t)}}}function wr(e){let t,r,o,n,a=e[7].indexOf(e[21])>=0,i,l,u=a&&vr(e);return{c(){t=q("g"),r=q("line"),u&&u.c(),p(r,"x1",o=e[2].left),p(r,"x2",n=e[10](e[1].x[1])),fe(r,"bold-tick",e[7].indexOf(e[21])>=0),p(t,"class",i="tick tick-"+e[21]),p(t,"transform",l="translate(0, "+e[9](e[21])+")")},m(s,f){M(s,t,f),y(t,r),u&&u.m(t,null)},p(s,f){f&4&&o!==(o=s[2].left)&&p(r,"x1",o),f&1026&&n!==(n=s[10](s[1].x[1]))&&p(r,"x2",n),f&131&&fe(r,"bold-tick",s[7].indexOf(s[21])>=0),f&131&&(a=s[7].indexOf(s[21])>=0),a?u?u.p(s,f):(u=vr(s),u.c(),u.m(t,null)):u&&(u.d(1),u=null),f&3&&i!==(i="tick tick-"+s[21])&&p(t,"class",i),f&515&&l!==(l="translate(0, "+s[9](s[21])+")")&&p(t,"transform",l)},d(s){s&&S(t),u&&u.d()}}}function Sr(e){let t,r=e[21]+"",o,n,a;return{c(){t=q("text"),o=E(r),p(t,"x",n="-"+e[3]*(e[21]>=0?0:.2)),p(t,"y",a=e[4]-(e[2].bottom-e[3]))},m(i,l){M(i,t,l),y(t,o)},p(i,l){l&3&&r!==(r=i[21]+"")&&ne(o,r),l&11&&n!==(n="-"+i[3]*(i[21]>=0?0:.2))&&p(t,"x",n),l&28&&a!==(a=i[4]-(i[2].bottom-i[3]))&&p(t,"y",a)},d(i){i&&S(t)}}}function Mr(e){let t,r,o,n,a=e[8].indexOf(e[21])>=0,i,l=a&&Sr(e);return{c(){t=q("g"),r=q("line"),l&&l.c(),p(r,"y1",o=e[9](e[1].y[0])),p(r,"y2",n=e[9](e[1].y[1])),fe(r,"bold-tick",e[8].indexOf(e[21])>=0),p(t,"class","tick"),p(t,"transform",i="translate("+e[10](e[21])+",0)")},m(u,s){M(u,t,s),y(t,r),l&&l.m(t,null)},p(u,s){s&514&&o!==(o=u[9](u[1].y[0]))&&p(r,"y1",o),s&514&&n!==(n=u[9](u[1].y[1]))&&p(r,"y2",n),s&259&&fe(r,"bold-tick",u[8].indexOf(u[21])>=0),s&259&&(a=u[8].indexOf(u[21])>=0),a?l?l.p(u,s):(l=Sr(u),l.c(),l.m(t,null)):l&&(l.d(1),l=null),s&1027&&i!==(i="translate("+u[10](u[21])+",0)")&&p(t,"transform",i)},d(u){u&&S(t),l&&l.d()}}}function Jn(e){let t,r,o,n,a;return{c(){t=q("line"),p(t,"x1",r=e[10](e[11][e[19]-1].x)),p(t,"y1",o=e[9](e[11][e[19]-1].y)),p(t,"x2",n=e[10](e[17].x)),p(t,"y2",a=e[9](e[17].y)),p(t,"class","path-vector")},m(i,l){M(i,t,l)},p(i,l){l&3072&&r!==(r=i[10](i[11][i[19]-1].x))&&p(t,"x1",r),l&2560&&o!==(o=i[9](i[11][i[19]-1].y))&&p(t,"y1",o),l&3072&&n!==(n=i[10](i[17].x))&&p(t,"x2",n),l&2560&&a!==(a=i[9](i[17].y))&&p(t,"y2",a)},d(i){i&&S(t)}}}function kr(e){let t,r,o,n=e[19]>0&&Jn(e);return{c(){t=q("g"),n&&n.c()},m(a,i){M(a,t,i),n&&n.m(t,null),o=!0},p(a,i){a[19]>0&&n.p(a,i)},i(a){o||(te(()=>{o&&(r||(r=de(t,K,{duration:100},!0)),r.run(1))}),o=!0)},o(a){r||(r=de(t,K,{duration:100},!1)),r.run(0),o=!1},d(a){a&&S(t),n&&n.d(),a&&r&&r.end()}}}function Cr(e){let t,r,o=e[17].x+"",n,a,i=e[17].y+"",l,u,s,f;return{c(){t=q("text"),r=E("("),n=E(o),a=E(","),l=E(i),u=E(")"),p(t,"x",s=e[10](e[17].x)+e[3]*.5),p(t,"y",f=e[9](e[17].y)+e[3])},m(c,d){M(c,t,d),y(t,r),y(t,n),y(t,a),y(t,l),y(t,u)},p(c,d){d&2048&&o!==(o=c[17].x+"")&&ne(n,o),d&2048&&i!==(i=c[17].y+"")&&ne(l,i),d&3080&&s!==(s=c[10](c[17].x)+c[3]*.5)&&p(t,"x",s),d&2568&&f!==(f=c[9](c[17].y)+c[3])&&p(t,"y",f)},d(c){c&&S(t)}}}function zr(e){let t,r,o,n,a,i=!e[12]&&e[19]==e[11].length-1&&Cr(e);return{c(){t=q("circle"),i&&i.c(),a=Ce(),p(t,"cx",r=e[10](e[17].x)),p(t,"cy",o=e[9](e[17].y)),p(t,"r",n=!e[12]&&e[19]==e[11].length-1?ht:Pr),p(t,"class","path-crd"),fe(t,"current-crd",e[19]==e[11].length-1)},m(l,u){M(l,t,u),i&&i.m(l,u),M(l,a,u)},p(l,u){u&3072&&r!==(r=l[10](l[17].x))&&p(t,"cx",r),u&2560&&o!==(o=l[9](l[17].y))&&p(t,"cy",o),u&6144&&n!==(n=!l[12]&&l[19]==l[11].length-1?ht:Pr)&&p(t,"r",n),u&2048&&fe(t,"current-crd",l[19]==l[11].length-1),!l[12]&&l[19]==l[11].length-1?i?i.p(l,u):(i=Cr(l),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(l){l&&S(t),i&&i.d(l),l&&S(a)}}}function Nr(e){let t,r,o,n,a,i,l,u,s,f,c,d=e[12].x+"",h,x,m=e[12].y+"",V,b,A,P,k;return{c(){t=q("g"),r=q("line"),l=q("circle"),f=q("text"),c=E("("),h=E(d),x=E(","),V=E(m),b=E(")"),p(r,"x1",o=e[10](e[13].x)),p(r,"y1",n=e[9](e[13].y)),p(r,"x2",a=e[10](e[12].x)),p(r,"y2",i=e[9](e[12].y)),p(r,"class","hover-vector"),p(l,"cx",u=e[10](e[12].x)),p(l,"cy",s=e[9](e[12].y)),p(l,"r",ht),p(l,"class","hover-crd"),p(f,"x",A=e[10](e[12].x)+e[3]*.5),p(f,"y",P=e[9](e[12].y)+e[3])},m(v,H){M(v,t,H),y(t,r),y(t,l),y(t,f),y(f,c),y(f,h),y(f,x),y(f,V),y(f,b)},p(v,H){H&9216&&o!==(o=v[10](v[13].x))&&p(r,"x1",o),H&8704&&n!==(n=v[9](v[13].y))&&p(r,"y1",n),H&5120&&a!==(a=v[10](v[12].x))&&p(r,"x2",a),H&4608&&i!==(i=v[9](v[12].y))&&p(r,"y2",i),H&5120&&u!==(u=v[10](v[12].x))&&p(l,"cx",u),H&4608&&s!==(s=v[9](v[12].y))&&p(l,"cy",s),H&4096&&d!==(d=v[12].x+"")&&ne(h,d),H&4096&&m!==(m=v[12].y+"")&&ne(V,m),H&5128&&A!==(A=v[10](v[12].x)+v[3]*.5)&&p(f,"x",A),H&4616&&P!==(P=v[9](v[12].y)+v[3])&&p(f,"y",P)},i(v){k||te(()=>{k=Me(t,K,{duration:100}),k.start()})},o:Y,d(v){v&&S(t)}}}function Kn(e){let t,r,o,n,a,i,l,u,s,f,c,d,h,x,m,V,b,A,P,k,v,H,G=Ae(...e[1].y,Math.max(1,e[0]/5)),B=[];for(let _=0;_<G.length;_+=1)B[_]=wr(Vr(e,G,_));let W=Ae(...e[1].x,Math.max(1,e[0]/5)),D=[];for(let _=0;_<W.length;_+=1)D[_]=Mr($r(e,W,_));let C=e[11],N=[];for(let _=0;_<C.length;_+=1)N[_]=kr(br(e,C,_));const ee=_=>w(N[_],1,1,()=>{N[_]=null});let X=e[11],Z=[];for(let _=0;_<X.length;_+=1)Z[_]=zr(xr(e,X,_));let U=e[12]&&Nr(e);return{c(){t=R("div"),r=q("svg"),o=q("g");for(let _=0;_<B.length;_+=1)B[_].c();n=q("g");for(let _=0;_<D.length;_+=1)D[_].c();a=q("g"),i=q("line"),f=q("g"),c=q("line");for(let _=0;_<N.length;_+=1)N[_].c();m=Ce();for(let _=0;_<Z.length;_+=1)Z[_].c();V=Ce(),U&&U.c(),b=q("circle"),p(o,"class","axis horizontal-axis"),p(n,"class","axis vertical-axis"),p(i,"y1",l=e[9](e[1].y[0])),p(i,"y2",u=e[9](e[1].y[1])),p(i,"class","cross-axis bold-tick"),p(a,"class","vertical-axis"),p(a,"transform",s="translate("+e[10](0)+",0)"),p(c,"x1",d=e[2].left),p(c,"x2",h=e[10](e[1].x[1])),p(c,"class","cross-axis bold-tick"),p(f,"class","horizontal-axis"),p(f,"transform",x="translate(0,"+e[9](0)+")"),p(b,"cx",A=e[10](e[5].targetCoordinate.x)),p(b,"cy",P=e[9](e[5].targetCoordinate.y)),p(b,"r",ht),p(b,"class","target-crd"),p(r,"class","svg-graph"),p(r,"id","graph"),p(t,"class","graph-panel")},m(_,z){M(_,t,z),y(t,r),y(r,o);for(let g=0;g<B.length;g+=1)B[g]&&B[g].m(o,null);y(r,n);for(let g=0;g<D.length;g+=1)D[g]&&D[g].m(n,null);y(r,a),y(a,i),y(r,f),y(f,c);for(let g=0;g<N.length;g+=1)N[g]&&N[g].m(r,null);y(r,m);for(let g=0;g<Z.length;g+=1)Z[g]&&Z[g].m(r,null);y(r,V),U&&U.m(r,null),y(r,b),e[15](r),H=!0},p(_,[z]){if(z&1679){G=Ae(..._[1].y,Math.max(1,_[0]/5));let g;for(g=0;g<G.length;g+=1){const oe=Vr(_,G,g);B[g]?B[g].p(oe,z):(B[g]=wr(oe),B[g].c(),B[g].m(o,null))}for(;g<B.length;g+=1)B[g].d(1);B.length=G.length}if(z&1823){W=Ae(..._[1].x,Math.max(1,_[0]/5));let g;for(g=0;g<W.length;g+=1){const oe=$r(_,W,g);D[g]?D[g].p(oe,z):(D[g]=Mr(oe),D[g].c(),D[g].m(n,null))}for(;g<D.length;g+=1)D[g].d(1);D.length=W.length}if((!H||z&514&&l!==(l=_[9](_[1].y[0])))&&p(i,"y1",l),(!H||z&514&&u!==(u=_[9](_[1].y[1])))&&p(i,"y2",u),(!H||z&1024&&s!==(s="translate("+_[10](0)+",0)"))&&p(a,"transform",s),(!H||z&4&&d!==(d=_[2].left))&&p(c,"x1",d),(!H||z&1026&&h!==(h=_[10](_[1].x[1])))&&p(c,"x2",h),(!H||z&512&&x!==(x="translate(0,"+_[9](0)+")"))&&p(f,"transform",x),z&3584){C=_[11];let g;for(g=0;g<C.length;g+=1){const oe=br(_,C,g);N[g]?(N[g].p(oe,z),$(N[g],1)):(N[g]=kr(oe),N[g].c(),$(N[g],1),N[g].m(r,m))}for(ye(),g=C.length;g<N.length;g+=1)ee(g);_e()}if(z&7688){X=_[11];let g;for(g=0;g<X.length;g+=1){const oe=xr(_,X,g);Z[g]?Z[g].p(oe,z):(Z[g]=zr(oe),Z[g].c(),Z[g].m(r,V))}for(;g<Z.length;g+=1)Z[g].d(1);Z.length=X.length}_[12]?U?(U.p(_,z),z&4096&&$(U,1)):(U=Nr(_),U.c(),$(U,1),U.m(r,b)):U&&(U.d(1),U=null),(!H||z&1056&&A!==(A=_[10](_[5].targetCoordinate.x)))&&p(b,"cx",A),(!H||z&544&&P!==(P=_[9](_[5].targetCoordinate.y)))&&p(b,"cy",P)},i(_){if(!H){for(let z=0;z<C.length;z+=1)$(N[z]);$(U),te(()=>{H&&(v&&v.end(1),k=Me(t,K,{delay:300,duration:300}),k.start())}),H=!0}},o(_){N=N.filter(Boolean);for(let z=0;z<N.length;z+=1)w(N[z]);k&&k.invalidate(),v=jt(t,K,{duration:300}),H=!1},d(_){_&&S(t),Ee(B,_),Ee(D,_),Ee(N,_),Ee(Z,_),U&&U.d(),e[15](null),_&&v&&v.end()}}}const Pr="0.5vmax",ht="0.8vmax";function Qn(e,t,r){let o,n,a,i,l,u,s,f,c,d,h,x,m,V;T(e,Io,k=>r(4,c=k)),T(e,je,k=>r(14,d=k)),T(e,re,k=>r(5,h=k)),T(e,no,k=>r(11,x=k)),T(e,Bo,k=>r(12,m=k)),T(e,yt,k=>r(13,V=k));let b;const A=k=>{if(k<10)return 2;const v=k/2.5;return Math.max(v-v%5,5)};function P(k){wt[k?"unshift":"push"](()=>{b=k,r(6,b)})}return e.$$.update=()=>{e.$$.dirty&16416&&r(1,o=ho(h.boardSideSize,d)),e.$$.dirty&16384&&r(3,n=.05*d.width),e.$$.dirty&8&&r(2,a={top:n,right:n*3,bottom:n*2,left:n*2}),e.$$.dirty&16390&&r(10,i=Pt().domain(o.x).range([a.left,d.width-a.right])),e.$$.dirty&22&&r(9,l=Pt().domain(o.y).range([c-a.bottom,a.top])),e.$$.dirty&2&&r(0,u=Math.max(A(o.x[1]),A(o.y[1]))),e.$$.dirty&3&&r(8,s=Ae(...o.x,u)),e.$$.dirty&3&&r(7,f=Ae(...o.y,u))},[u,o,a,n,c,h,b,f,s,l,i,x,m,V,d,P]}class ea extends ie{constructor(t){super(),ae(this,t,Qn,Kn,Q,{})}}function ta(e){let t,r,o,n,a,i,l,u;const s=e[11].default,f=Wr(s,e,e[10],null);return{c(){t=R("div"),r=R("div"),o=I(),n=R("div"),f&&f.c(),p(r,"class","btn-bg"),p(n,"class","btn-face"),p(t,"class",a="btn-container"+(e[3]?" ":"")+e[3].join(" ")),le(t,"--widthPrecentage",e[0]+"%"),le(t,"--heightPercentage",e[1]+"%"),fe(t,"active",e[7]),fe(t,"disabled",!e[2])},m(c,d){M(c,t,d),y(t,r),y(t,o),y(t,n),f&&f.m(n,null),i=!0,l||(u=[ve(t,"pointerup",function(){he(e[2]&&e[12])&&(e[2]&&e[12]).apply(this,arguments)}),ve(t,"pointerdown",function(){he(e[2]&&e[8](!0))&&(e[2]&&e[8](!0)).apply(this,arguments)}),ve(t,"pointerover",function(){he(e[2]&&e[4])&&(e[2]&&e[4]).apply(this,arguments)}),ve(t,"contextmenu",to(ra)),ve(t,"touchend",function(){he(e[2]&&e[13])&&(e[2]&&e[13]).apply(this,arguments)})],l=!0)},p(c,[d]){e=c,f&&f.p&&(!i||d&1024)&&Zr(f,s,e,e[10],i?Yr(s,e[10],d,null):Jr(e[10]),null),(!i||d&8&&a!==(a="btn-container"+(e[3]?" ":"")+e[3].join(" ")))&&p(t,"class",a),(!i||d&1)&&le(t,"--widthPrecentage",e[0]+"%"),(!i||d&2)&&le(t,"--heightPercentage",e[1]+"%"),(!i||d&136)&&fe(t,"active",e[7]),(!i||d&12)&&fe(t,"disabled",!e[2])},i(c){i||($(f,c),i=!0)},o(c){w(f,c),i=!1},d(c){c&&S(t),f&&f.d(c),l=!1,xe(u)}}}const ra=()=>null;function oa(e,t,r){let{$$slots:o={},$$scope:n}=t,{widthPrecentage:a=30}=t,{heightPercentage:i=90}=t,{isEnabled:l=!0}=t,{classes:u=[]}=t,{onHover:s=null}=t,{onMouseLeave:f=null}=t,{onClick:c=null}=t,d=!1,h=b=>()=>{r(7,d=b)};const x=b=>{let A=b.target.getBoundingClientRect(),P=b.changedTouches[0];return P.clientX>A.x&&P.clientX<A.x+A.width&&P.clientY>A.y&&P.clientY<A.y+A.height},m=()=>{c(),r(7,d=!1),f&&f()},V=b=>{d&&(h(!1)(),f&&f(),x(b)&&c())};return e.$$set=b=>{"widthPrecentage"in b&&r(0,a=b.widthPrecentage),"heightPercentage"in b&&r(1,i=b.heightPercentage),"isEnabled"in b&&r(2,l=b.isEnabled),"classes"in b&&r(3,u=b.classes),"onHover"in b&&r(4,s=b.onHover),"onMouseLeave"in b&&r(5,f=b.onMouseLeave),"onClick"in b&&r(6,c=b.onClick),"$$scope"in b&&r(10,n=b.$$scope)},[a,i,l,u,s,f,c,d,h,x,n,o,m,V]}class J extends ie{constructor(t){super(),ae(this,t,oa,ta,Q,{widthPrecentage:0,heightPercentage:1,isEnabled:2,classes:3,onHover:4,onMouseLeave:5,onClick:6})}}function Er(e){let t,r=e[0].x.name+"",o;return{c(){t=R("span"),o=E(r),p(t,"class","x-op-name")},m(n,a){M(n,t,a),y(t,o)},p(n,a){a&1&&r!==(r=n[0].x.name+"")&&ne(o,r)},d(n){n&&S(t)}}}function Hr(e){let t,r=e[0].y.name+"",o;return{c(){t=R("span"),o=E(r),p(t,"class","y-op-name")},m(n,a){M(n,t,a),y(t,o)},p(n,a){a&1&&r!==(r=n[0].y.name+"")&&ne(o,r)},d(n){n&&S(t)}}}function na(e){let t=e[0].x.name,r,o=e[0].y.name,n,a=Er(e),i=Hr(e);return{c(){a.c(),r=I(),i.c(),n=Ce()},m(l,u){a.m(l,u),M(l,r,u),i.m(l,u),M(l,n,u)},p(l,u){u&1&&Q(t,t=l[0].x.name)?(a.d(1),a=Er(l),a.c(),a.m(r.parentNode,r)):a.p(l,u),u&1&&Q(o,o=l[0].y.name)?(i.d(1),i=Hr(l),i.c(),i.m(n.parentNode,n)):i.p(l,u)},d(l){a.d(l),l&&S(r),l&&S(n),i.d(l)}}}function aa(e){let t,r;return t=new J({props:{classes:e[2],onHover:e[6],onClick:e[5],onMouseLeave:re.removeHoverCoordinate,isEnabled:e[4]&&Zt(e[0],e[3],e[1]),$$slots:{default:[na]},$$scope:{ctx:e}}}),{c(){j(t.$$.fragment)},m(o,n){O(t,o,n),r=!0},p(o,[n]){const a={};n&4&&(a.classes=o[2]),n&27&&(a.isEnabled=o[4]&&Zt(o[0],o[3],o[1])),n&129&&(a.$$scope={dirty:n,ctx:o}),t.$set(a)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){w(t.$$.fragment,o),r=!1},d(o){L(t,o)}}}function ia(e,t,r){let o,n;T(e,yt,f=>r(3,o=f)),T(e,Go,f=>r(4,n=f));let{operation:a}=t,{domain:i}=t,l=[];const u=()=>{const f={x:a.x.action(o),y:a.y.action(o)};re.addCoordinate(f,i)},s=()=>{const f={x:a.x.action(o),y:a.y.action(o)};re.addHoverCoordinate(f,i)};return e.$$set=f=>{"operation"in f&&r(0,a=f.operation),"domain"in f&&r(1,i=f.domain)},e.$$.update=()=>{e.$$.dirty&5&&(r(2,l=[]),a.x.name&&l.push("x-op-btn"),a.y.name&&l.push("y-op-btn"))},[a,i,l,o,n,u,s]}class la extends ie{constructor(t){super(),ae(this,t,ia,aa,Q,{operation:0,domain:1})}}function ua(e){let t;return{c(){t=E("Undo")},m(r,o){M(r,t,o)},d(r){r&&S(t)}}}function sa(e){let t,r;return t=new J({props:{classes:e[0]?["warn-btn"]:[],onClick:e[0]?e[2]:re.removeLastCoordinate,isEnabled:!(e[1].length<=1),$$slots:{default:[ua]},$$scope:{ctx:e}}}),{c(){j(t.$$.fragment)},m(o,n){O(t,o,n),r=!0},p(o,[n]){const a={};n&1&&(a.classes=o[0]?["warn-btn"]:[]),n&1&&(a.onClick=o[0]?o[2]:re.removeLastCoordinate),n&2&&(a.isEnabled=!(o[1].length<=1)),n&8&&(a.$$scope={dirty:n,ctx:o}),t.$set(a)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){w(t.$$.fragment,o),r=!1},d(o){L(t,o)}}}function fa(e,t,r){let o,n;T(e,no,i=>r(1,n=i));const a=()=>{So("isSurePrompt",!1)};return r(0,o=Mo("isSurePrompt")),[o,n,a]}class Ar extends ie{constructor(t){super(),ae(this,t,fa,sa,Q,{})}}const ca=()=>{const{subscribe:e,set:t,update:r}=qe(!1);return{subscribe:e,enableAdmin:()=>t(!0),disableAdmin:()=>t(!1),toggleAdmin:()=>r(o=>!o),set:t}},Dt=ca(),pa=()=>{const{subscribe:e,set:t,update:r}=qe("menu");return{subscribe:e,toNextScreen:()=>r(o=>{switch(o){case"menu":return"graph";case"graph":return"victory";case"victory":return"menu"}}),toMenu:()=>t("menu"),toGraph:()=>t("graph"),toVictory:()=>t("victory"),set:t}},$e=pa();function da(e){let t=e[0]=="menu"?"Play":"Next",r;return{c(){r=E(t)},m(o,n){M(o,r,n)},p(o,n){n&1&&t!==(t=o[0]=="menu"?"Play":"Next")&&ne(r,t)},d(o){o&&S(r)}}}function ha(e){let t,r;return t=new J({props:{onClick:e[3],isEnabled:e[1]||e[2]||e[0]=="menu",classes:["success-btn"],$$slots:{default:[da]},$$scope:{ctx:e}}}),{c(){j(t.$$.fragment)},m(o,n){O(t,o,n),r=!0},p(o,[n]){const a={};n&7&&(a.isEnabled=o[1]||o[2]||o[0]=="menu"),n&33&&(a.$$scope={dirty:n,ctx:o}),t.$set(a)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){w(t.$$.fragment,o),r=!1},d(o){L(t,o)}}}function ma(e,t,r){let o,n,a;T(e,$e,u=>r(0,o=u)),T(e,Dt,u=>r(1,n=u)),T(e,Bt,u=>r(2,a=u));const i=()=>{const u=oo();re.setGameConfiguration(u)};return[o,n,a,()=>{o=="victory"&&(it.increment(),i()),$e.toNextScreen()}]}class Or extends ie{constructor(t){super(),ae(this,t,ma,ha,Q,{})}}function ga(e){let t=e[0]?"":"Menu",r;return{c(){r=E(t)},m(o,n){M(o,r,n)},p(o,n){n&1&&t!==(t=o[0]?"":"Menu")&&ne(r,t)},d(o){o&&S(r)}}}function ya(e){let t,r;return t=new J({props:{onClick:$e.toMenu,isEnabled:!e[0],$$slots:{default:[ga]},$$scope:{ctx:e}}}),{c(){j(t.$$.fragment)},m(o,n){O(t,o,n),r=!0},p(o,[n]){const a={};n&1&&(a.isEnabled=!o[0]),n&5&&(a.$$scope={dirty:n,ctx:o}),t.$set(a)},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){w(t.$$.fragment,o),r=!1},d(o){L(t,o)}}}function _a(e,t,r){let o,n;return T(e,$e,a=>r(1,n=a)),e.$$.update=()=>{e.$$.dirty&2&&r(0,o=n=="menu")},[o,n]}class xa extends ie{constructor(t){super(),ae(this,t,_a,ya,Q,{})}}function ba(e){let t;return{c(){t=E("Hint")},m(r,o){M(r,t,o)},d(r){r&&S(t)}}}function $a(e){let t,r,o,n,a,i,l;r=new xa({});var u=e[0]||e[1]||e[2]=="menu"?Or:Ar;function s(f){return{}}return u&&(n=tt(u,s())),i=new J({props:{isEnabled:!1,$$slots:{default:[ba]},$$scope:{ctx:e}}}),{c(){t=R("div"),j(r.$$.fragment),o=I(),n&&j(n.$$.fragment),a=I(),j(i.$$.fragment),p(t,"class","options-panel")},m(f,c){M(f,t,c),O(r,t,null),y(t,o),n&&O(n,t,null),y(t,a),O(i,t,null),l=!0},p(f,[c]){if(c&7&&u!==(u=f[0]||f[1]||f[2]=="menu"?Or:Ar)){if(n){ye();const h=n;w(h.$$.fragment,1,0,()=>{L(h,1)}),_e()}u?(n=tt(u,s()),j(n.$$.fragment),$(n.$$.fragment,1),O(n,t,a)):n=null}const d={};c&8&&(d.$$scope={dirty:c,ctx:f}),i.$set(d)},i(f){l||($(r.$$.fragment,f),n&&$(n.$$.fragment,f),$(i.$$.fragment,f),l=!0)},o(f){w(r.$$.fragment,f),n&&w(n.$$.fragment,f),w(i.$$.fragment,f),l=!1},d(f){f&&S(t),L(r),n&&L(n),L(i)}}}function Va(e,t,r){let o,n,a;return T(e,Dt,i=>r(0,o=i)),T(e,Bt,i=>r(1,n=i)),T(e,$e,i=>r(2,a=i)),[o,n,a]}class va extends ie{constructor(t){super(),ae(this,t,Va,$a,Q,{})}}function Lr(e,t,r){const o=e.slice();return o[3]=t[r],o[5]=r,o}function Rr(e,t,r){const o=e.slice();return o[6]=t[r],o}function jr(e,t,r){const o=e.slice();return o[9]=t[r],o[11]=r,o}function wa(e){let t,r,o,n,a,i,l,u,s,f,c,d,h,x;return r=new J({props:{isEnabled:!1}}),n=new J({props:{isEnabled:!1}}),i=new J({props:{isEnabled:!1}}),s=new J({props:{isEnabled:!1}}),c=new J({props:{isEnabled:!1}}),h=new J({props:{isEnabled:!1}}),{c(){t=R("div"),j(r.$$.fragment),o=I(),j(n.$$.fragment),a=I(),j(i.$$.fragment),l=I(),u=R("div"),j(s.$$.fragment),f=I(),j(c.$$.fragment),d=I(),j(h.$$.fragment),p(t,"class","btn-panel-row btn-panel-row-1"),le(t,"--heightPercentage",Ge+"%"),p(u,"class","btn-panel-row btn-panel-row-1"),le(u,"--heightPercentage",Ge+"%")},m(m,V){M(m,t,V),O(r,t,null),y(t,o),O(n,t,null),y(t,a),O(i,t,null),M(m,l,V),M(m,u,V),O(s,u,null),y(u,f),O(c,u,null),y(u,d),O(h,u,null),x=!0},p:Y,i(m){x||($(r.$$.fragment,m),$(n.$$.fragment,m),$(i.$$.fragment,m),$(s.$$.fragment,m),$(c.$$.fragment,m),$(h.$$.fragment,m),x=!0)},o(m){w(r.$$.fragment,m),w(n.$$.fragment,m),w(i.$$.fragment,m),w(s.$$.fragment,m),w(c.$$.fragment,m),w(h.$$.fragment,m),x=!1},d(m){m&&S(t),L(r),L(n),L(i),m&&S(l),m&&S(u),L(s),L(c),L(h)}}}function Sa(e){let t,r,o,n=_r(e[2].operations,3),a=[];for(let u=0;u<n.length;u+=1)a[u]=Ir(Lr(e,n,u));const i=u=>w(a[u],1,1,()=>{a[u]=null});let l=e[2].operations.length<=3&&Fr();return{c(){for(let u=0;u<a.length;u+=1)a[u].c();t=I(),l&&l.c(),r=Ce()},m(u,s){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(u,s);M(u,t,s),l&&l.m(u,s),M(u,r,s),o=!0},p(u,s){if(s&5){n=_r(u[2].operations,3);let f;for(f=0;f<n.length;f+=1){const c=Lr(u,n,f);a[f]?(a[f].p(c,s),$(a[f],1)):(a[f]=Ir(c),a[f].c(),$(a[f],1),a[f].m(t.parentNode,t))}for(ye(),f=n.length;f<a.length;f+=1)i(f);_e()}u[2].operations.length<=3?l?(l.p(u,s),s&4&&$(l,1)):(l=Fr(),l.c(),$(l,1),l.m(r.parentNode,r)):l&&(ye(),w(l,1,1,()=>{l=null}),_e())},i(u){if(!o){for(let s=0;s<n.length;s+=1)$(a[s]);$(l),o=!0}},o(u){a=a.filter(Boolean);for(let s=0;s<a.length;s+=1)w(a[s]);w(l),o=!1},d(u){Ee(a,u),u&&S(t),l&&l.d(u),u&&S(r)}}}function Ma(e){let t,r,o,n,a,i,l,u,s,f,c,d,h,x;return r=new J({props:{isEnabled:!1}}),n=new J({props:{isEnabled:!1}}),i=new J({props:{isEnabled:!1}}),s=new J({props:{isEnabled:!1}}),c=new J({props:{isEnabled:!1}}),h=new J({props:{isEnabled:!1}}),{c(){t=R("div"),j(r.$$.fragment),o=I(),j(n.$$.fragment),a=I(),j(i.$$.fragment),l=I(),u=R("div"),j(s.$$.fragment),f=I(),j(c.$$.fragment),d=I(),j(h.$$.fragment),p(t,"class","btn-panel-row btn-panel-row-1"),le(t,"--heightPercentage",Ge+"%"),p(u,"class","btn-panel-row btn-panel-row-1"),le(u,"--heightPercentage",Ge+"%")},m(m,V){M(m,t,V),O(r,t,null),y(t,o),O(n,t,null),y(t,a),O(i,t,null),M(m,l,V),M(m,u,V),O(s,u,null),y(u,f),O(c,u,null),y(u,d),O(h,u,null),x=!0},p:Y,i(m){x||($(r.$$.fragment,m),$(n.$$.fragment,m),$(i.$$.fragment,m),$(s.$$.fragment,m),$(c.$$.fragment,m),$(h.$$.fragment,m),x=!0)},o(m){w(r.$$.fragment,m),w(n.$$.fragment,m),w(i.$$.fragment,m),w(s.$$.fragment,m),w(c.$$.fragment,m),w(h.$$.fragment,m),x=!1},d(m){m&&S(t),L(r),L(n),L(i),m&&S(l),m&&S(u),L(s),L(c),L(h)}}}function Br(e,t){let r,o,n;return o=new la({props:{operation:t[9],domain:t[0]}}),{key:e,first:null,c(){r=Ce(),j(o.$$.fragment),this.first=r},m(a,i){M(a,r,i),O(o,a,i),n=!0},p(a,i){t=a;const l={};i&4&&(l.operation=t[9]),i&1&&(l.domain=t[0]),o.$set(l)},i(a){n||($(o.$$.fragment,a),n=!0)},o(a){w(o.$$.fragment,a),n=!1},d(a){a&&S(r),L(o,a)}}}function Gr(e){let t,r,o=dt(0,2-e[3].length),n=[];for(let i=0;i<o.length;i+=1)n[i]=qr(Rr(e,o,i));const a=i=>w(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();t=Ce()},m(i,l){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(i,l);M(i,t,l),r=!0},p(i,l){if(l&4){o=dt(0,2-i[3].length);let u;for(u=0;u<o.length;u+=1){const s=Rr(i,o,u);n[u]?(n[u].p(s,l),$(n[u],1)):(n[u]=qr(),n[u].c(),$(n[u],1),n[u].m(t.parentNode,t))}for(ye(),u=o.length;u<n.length;u+=1)a(u);_e()}},i(i){if(!r){for(let l=0;l<o.length;l+=1)$(n[l]);r=!0}},o(i){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)w(n[l]);r=!1},d(i){Ee(n,i),i&&S(t)}}}function qr(e){let t,r;return t=new J({props:{isEnabled:!1}}),{c(){j(t.$$.fragment)},m(o,n){O(t,o,n),r=!0},p:Y,i(o){r||($(t.$$.fragment,o),r=!0)},o(o){w(t.$$.fragment,o),r=!1},d(o){L(t,o)}}}function Ir(e){let t,r=[],o=new Map,n,a,i=e[3];const l=s=>s[11];for(let s=0;s<i.length;s+=1){let f=jr(e,i,s),c=l(f);o.set(c,r[s]=Br(c,f))}let u=e[3].length<3&&Gr(e);return{c(){t=R("div");for(let s=0;s<r.length;s+=1)r[s].c();n=I(),u&&u.c(),p(t,"class","btn-panel-row btn-panel-row-"+e[5]),le(t,"--heightPercentage",Ge+"%")},m(s,f){M(s,t,f);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);y(t,n),u&&u.m(t,null),a=!0},p(s,f){f&5&&(i=s[3],ye(),r=Eo(r,f,l,1,s,i,o,t,Po,Br,n,jr),_e()),s[3].length<3?u?(u.p(s,f),f&4&&$(u,1)):(u=Gr(s),u.c(),$(u,1),u.m(t,null)):u&&(ye(),w(u,1,1,()=>{u=null}),_e())},i(s){if(!a){for(let f=0;f<i.length;f+=1)$(r[f]);$(u),a=!0}},o(s){for(let f=0;f<r.length;f+=1)w(r[f]);w(u),a=!1},d(s){s&&S(t);for(let f=0;f<r.length;f+=1)r[f].d();u&&u.d()}}}function Fr(e){let t,r,o,n,a,i,l;return r=new J({props:{isEnabled:!1}}),n=new J({props:{isEnabled:!1}}),i=new J({props:{isEnabled:!1}}),{c(){t=R("div"),j(r.$$.fragment),o=I(),j(n.$$.fragment),a=I(),j(i.$$.fragment),p(t,"class","btn-panel-row btn-panel-row-1"),le(t,"--heightPercentage",Ge+"%")},m(u,s){M(u,t,s),O(r,t,null),y(t,o),O(n,t,null),y(t,a),O(i,t,null),l=!0},p:Y,i(u){l||($(r.$$.fragment,u),$(n.$$.fragment,u),$(i.$$.fragment,u),l=!0)},o(u){w(r.$$.fragment,u),w(n.$$.fragment,u),w(i.$$.fragment,u),l=!1},d(u){u&&S(t),L(r),L(n),L(i)}}}function ka(e){let t,r,o,n,a,i;const l=[Ma,Sa,wa],u=[];function s(f,c){return f[1]=="menu"?0:f[1]=="graph"?1:f[1]=="victory"?2:-1}return~(r=s(e))&&(o=u[r]=l[r](e)),a=new va({}),{c(){t=R("div"),o&&o.c(),n=I(),j(a.$$.fragment),p(t,"class","btn-panel")},m(f,c){M(f,t,c),~r&&u[r].m(t,null),y(t,n),O(a,t,null),i=!0},p(f,[c]){let d=r;r=s(f),r===d?~r&&u[r].p(f,c):(o&&(ye(),w(u[d],1,1,()=>{u[d]=null}),_e()),~r?(o=u[r],o?o.p(f,c):(o=u[r]=l[r](f),o.c()),$(o,1),o.m(t,n)):o=null)},i(f){i||($(o),$(a.$$.fragment,f),i=!0)},o(f){w(o),w(a.$$.fragment,f),i=!1},d(f){f&&S(t),~r&&u[r].d(),L(a)}}}const Ge=35;function Ca(e,t,r){let o,n;T(e,$e,i=>r(1,o=i)),T(e,re,i=>r(2,n=i));let{domain:a}=t;return e.$$set=i=>{"domain"in i&&r(0,a=i.domain)},[a,o,n]}class za extends ie{constructor(t){super(),ae(this,t,Ca,ka,Q,{domain:0})}}function Dr(e){let t,r,o,n,a,i,l,u,s,f,c,d,h,x,m,V,b,A,P,k,v,H=e[3].x+"",G,B,W=e[3].y+"",D,C,N,ee,X,Z,U,_,z,g,oe=e[4].targetCoordinate.x+"",_t,Tt,Ye=e[4].targetCoordinate.y+"",xt,Ut,be,ue,bt,Wt;return{c(){t=R("span"),r=E(`Level:\r
            `),o=R("br"),n=I(),a=E(e[1]),l=I(),u=R("span"),s=E(`Moves:\r
            `),f=R("br"),c=I(),d=R("b"),h=E(e[2]),m=I(),V=R("span"),b=E(`Current:\r
            `),A=R("br"),P=I(),k=R("b"),v=E("("),G=E(H),B=E(", "),D=E(W),C=E(")"),ee=I(),X=R("span"),Z=E(`Goal:\r
            `),U=R("br"),_=I(),z=R("b"),g=E("("),_t=E(oe),Tt=E(", "),xt=E(Ye),Ut=E(")"),p(t,"class","status-panel-item status-panel-level-item"),p(u,"class","status-panel-item"),p(V,"class","status-panel-item"),p(X,"class","status-panel-item")},m(F,se){M(F,t,se),y(t,r),y(t,o),y(t,n),y(t,a),M(F,l,se),M(F,u,se),y(u,s),y(u,f),y(u,c),y(u,d),y(d,h),M(F,m,se),M(F,V,se),y(V,b),y(V,A),y(V,P),y(V,k),y(k,v),y(k,G),y(k,B),y(k,D),y(k,C),M(F,ee,se),M(F,X,se),y(X,Z),y(X,U),y(X,_),y(X,z),y(z,g),y(z,_t),y(z,Tt),y(z,xt),y(z,Ut),ue=!0,bt||(Wt=ve(u,"click",Dt.toggleAdmin),bt=!0)},p(F,se){(!ue||se&2)&&ne(a,F[1]),(!ue||se&4)&&ne(h,F[2]),(!ue||se&8)&&H!==(H=F[3].x+"")&&ne(G,H),(!ue||se&8)&&W!==(W=F[3].y+"")&&ne(D,W),(!ue||se&16)&&oe!==(oe=F[4].targetCoordinate.x+"")&&ne(_t,oe),(!ue||se&16)&&Ye!==(Ye=F[4].targetCoordinate.y+"")&&ne(xt,Ye)},i(F){ue||(te(()=>{ue&&(i||(i=de(t,K,{duration:400,delay:400},!0)),i.run(1))}),te(()=>{ue&&(x||(x=de(u,K,{duration:400,delay:400},!0)),x.run(1))}),te(()=>{ue&&(N||(N=de(V,K,{duration:400,delay:400},!0)),N.run(1))}),te(()=>{ue&&(be||(be=de(X,K,{duration:400,delay:400},!0)),be.run(1))}),ue=!0)},o(F){i||(i=de(t,K,{duration:400,delay:400},!1)),i.run(0),x||(x=de(u,K,{duration:400,delay:400},!1)),x.run(0),N||(N=de(V,K,{duration:400,delay:400},!1)),N.run(0),be||(be=de(X,K,{duration:400,delay:400},!1)),be.run(0),ue=!1},d(F){F&&S(t),F&&i&&i.end(),F&&S(l),F&&S(u),F&&x&&x.end(),F&&S(m),F&&S(V),F&&N&&N.end(),F&&S(ee),F&&S(X),F&&be&&be.end(),bt=!1,Wt()}}}function Na(e){let t,r,o=(e[0]=="graph"||e[0]=="victory")&&Dr(e);return{c(){t=R("div"),o&&o.c(),p(t,"class","status-panel")},m(n,a){M(n,t,a),o&&o.m(t,null),r=!0},p(n,[a]){n[0]=="graph"||n[0]=="victory"?o?(o.p(n,a),a&1&&$(o,1)):(o=Dr(n),o.c(),$(o,1),o.m(t,null)):o&&(ye(),w(o,1,1,()=>{o=null}),_e())},i(n){r||($(o),r=!0)},o(n){w(o),r=!1},d(n){n&&S(t),o&&o.d()}}}function Pa(e,t,r){let o,n,a,i,l;return T(e,$e,u=>r(0,o=u)),T(e,it,u=>r(1,n=u)),T(e,ao,u=>r(2,a=u)),T(e,yt,u=>r(3,i=u)),T(e,re,u=>r(4,l=u)),[o,n,a,i,l]}class Ea extends ie{constructor(t){super(),ae(this,t,Pa,Na,Q,{})}}function Ha(e){let t,r,o,n;return{c(){t=R("div"),t.textContent=`Victory!\r
    Yay!`,p(t,"class","victory-panel")},m(a,i){M(a,t,i),n=!0},p:Y,i(a){n||(te(()=>{n&&(o&&o.end(1),r=Me(t,K,{delay:300,duration:300}),r.start())}),n=!0)},o(a){r&&r.invalidate(),o=jt(t,K,{duration:300}),n=!1},d(a){a&&S(t),a&&o&&o.end()}}}class Aa extends ie{constructor(t){super(),ae(this,t,null,Ha,Q,{})}}function Oa(e){let t,r,o,n,a,i,l,u,s,f,c,d,h,x;return{c(){t=q("svg"),r=q("g"),o=q("text"),n=q("tspan"),a=E(`ectory\r
            `),l=q("text"),u=q("tspan"),s=E("V"),f=I(),d=q("path"),h=q("path"),p(n,"y","0"),p(n,"font-weight","400"),p(n,"stroke-width","0"),p(o,"id","logo-ectory"),p(o,"dx","0"),p(o,"dy","0"),p(o,"font-family",'"eAZkWzVF2GR1:::Urbanist"'),p(o,"font-size","32"),p(o,"font-weight","400"),p(o,"transform","translate(138 135)"),p(o,"fill","#444850"),p(o,"stroke-width","0"),p(u,"y","0"),p(u,"font-weight","400"),p(u,"stroke-width","0"),p(l,"id","logo-v"),p(l,"dx","0"),p(l,"dy","0"),p(l,"font-family",'"eAZkWzVF2GR1:::Urbanist"'),p(l,"font-size","72"),p(l,"font-weight","400"),p(l,"transform","translate(75 150)"),p(l,"fill","#444850"),p(l,"stroke-width","0"),p(d,"id","logo-frame"),p(d,"d",""),p(d,"fill","none"),p(d,"stroke","#3f5787"),p(d,"stroke-width","0.6"),p(h,"d","M134.598397,120v-28.505543h-72.098397v72.009123h28.571612"),p(h,"fill","none"),p(h,"stroke","#444850"),p(h,"stroke-width","3"),p(r,"transform","matrix(1.699262 0 0 1.699262-98.847786-66.61613)"),p(t,"id","vectory-logo"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(t,"viewBox","0 0 300 300"),p(t,"shape-rendering","geometricPrecision"),p(t,"text-rendering","geometricPrecision"),le(t,"background-color","transparent")},m(m,V){M(m,t,V),y(t,r),y(r,o),y(o,n),y(n,a),y(r,l),y(l,u),y(u,s),y(l,f),y(r,d),y(r,h)},p:Y,i(m){i||te(()=>{i=Me(o,K,{duration:1e3,delay:500}),i.start()}),c||te(()=>{c=Me(l,K,{duration:800,delay:200}),c.start()}),x||te(()=>{x=Me(h,K,{duration:500,delay:0}),x.start()})},o:Y,d(m){m&&S(t)}}}class La extends ie{constructor(t){super(),ae(this,t,null,Oa,Q,{})}}function Ra(e){let t,r,o,n,a;return r=new La({}),{c(){t=R("div"),j(r.$$.fragment),p(t,"class","menu-panel")},m(i,l){M(i,t,l),O(r,t,null),a=!0},p:Y,i(i){a||($(r.$$.fragment,i),te(()=>{a&&(n&&n.end(1),o=Me(t,K,{delay:300,duration:300}),o.start())}),a=!0)},o(i){w(r.$$.fragment,i),o&&o.invalidate(),n=jt(t,K,{duration:300}),a=!1},d(i){i&&S(t),L(r),i&&n&&n.end()}}}class ja extends ie{constructor(t){super(),ae(this,t,null,Ra,Q,{})}}function Ba(e){let t,r,o;var n=e[1][e[0]];function a(i){return{}}return n&&(r=tt(n,a())),{c(){t=R("div"),r&&j(r.$$.fragment),p(t,"class","screen-panel")},m(i,l){M(i,t,l),r&&O(r,t,null),o=!0},p(i,[l]){if(l&1&&n!==(n=i[1][i[0]])){if(r){ye();const u=r;w(u.$$.fragment,1,0,()=>{L(u,1)}),_e()}n?(r=tt(n,a()),j(r.$$.fragment),$(r.$$.fragment,1),O(r,t,null)):r=null}},i(i){o||(r&&$(r.$$.fragment,i),o=!0)},o(i){r&&w(r.$$.fragment,i),o=!1},d(i){i&&S(t),r&&L(r)}}}function Ga(e,t,r){let o;return T(e,$e,a=>r(0,o=a)),[o,{menu:ja,graph:ea,victory:Aa}]}class qa extends ie{constructor(t){super(),ae(this,t,Ga,Ba,Q,{})}}function Ia(e){let t,r,o,n,a,i,l;return r=new Ea({}),n=new qa({}),i=new za({props:{domain:e[1]}}),{c(){t=R("div"),j(r.$$.fragment),o=I(),j(n.$$.fragment),a=I(),j(i.$$.fragment),p(t,"class","puzzle-session"),fe(t,"landscape",!e[0]),fe(t,"portrait",e[0])},m(u,s){M(u,t,s),O(r,t,null),y(t,o),O(n,t,null),y(t,a),O(i,t,null),l=!0},p(u,[s]){const f={};s&2&&(f.domain=u[1]),i.$set(f),(!l||s&1)&&fe(t,"landscape",!u[0]),(!l||s&1)&&fe(t,"portrait",u[0])},i(u){l||($(r.$$.fragment,u),$(n.$$.fragment,u),$(i.$$.fragment,u),l=!0)},o(u){w(r.$$.fragment,u),w(n.$$.fragment,u),w(i.$$.fragment,u),l=!1},d(u){u&&S(t),L(r),L(n),L(i)}}}function Fa(e,t,r){let o,n,a,i;return T(e,je,l=>r(2,a=l)),T(e,re,l=>r(3,i=l)),Ot(()=>{re.resetGameState()}),e.$$.update=()=>{e.$$.dirty&12&&r(1,o=ho(i.boardSideSize,a)),e.$$.dirty&4&&r(0,n=a.height>a.width)},[n,o,a,i]}class Da extends ie{constructor(t){super(),ae(this,t,Fa,Ia,Q,{})}}function Ta(e){let t,r;return t=new Da({}),{c(){j(t.$$.fragment)},m(o,n){O(t,o,n),r=!0},i(o){r||($(t.$$.fragment,o),r=!0)},o(o){w(t.$$.fragment,o),r=!1},d(o){L(t,o)}}}function Ua(e){let t,r,o,n,a,i,l;return o=new To({props:{$$slots:{default:[Ta]},$$scope:{ctx:e}}}),{c(){t=R("main"),r=R("div"),j(o.$$.fragment),p(r,"id","vectory-app"),p(t,"class",n=e[0]+"-theme")},m(u,s){M(u,t,s),y(t,r),O(o,r,null),a=!0,i||(l=ve(t,"contextmenu",to(null)),i=!0)},p(u,[s]){const f={};s&4&&(f.$$scope={dirty:s,ctx:u}),o.$set(f),(!a||s&1&&n!==(n=u[0]+"-theme"))&&p(t,"class",n)},i(u){a||($(o.$$.fragment,u),a=!0)},o(u){w(o.$$.fragment,u),a=!1},d(u){u&&S(t),L(o),i=!1,l()}}}function Wa(e,t,r){let o;Ot(()=>{o=oo(),re.setGameConfiguration(o)});let{theme:n="default"}=t;return e.$$set=a=>{"theme"in a&&r(0,n=a.theme)},[n]}class Xa extends ie{constructor(t){super(),ae(this,t,Wa,Ua,Q,{theme:0})}}new Xa({target:document.body,props:{}});
