(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function B(){}function Kt(e){return e()}function ft(){return Object.create(null)}function ie(e){e.forEach(Kt)}function ae(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function cr(e){return Object.keys(e).length===0}function Wt(e,...t){if(e==null)return B;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function A(e,t,r){e.$$.on_destroy.push(Wt(t,r))}function x(e,t){e.appendChild(t)}function S(e,t,r){e.insertBefore(t,r||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function ve(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function X(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function ee(){return v(" ")}function rt(){return v("")}function he(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function y(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function hr(e){return Array.from(e.childNodes)}function Z(e,t){t=""+t,e.data!==t&&(e.data=t)}function ge(e,t,r,n){r==null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function G(e,t,r){e.classList[r?"add":"remove"](t)}let Ve;function Me(e){Ve=e}function Yt(){if(!Ve)throw new Error("Function called outside component initialization");return Ve}function nt(e){Yt().$$.on_mount.push(e)}function dr(e){Yt().$$.on_destroy.push(e)}const me=[],Ze=[];let _e=[];const ct=[],pr=Promise.resolve();let Ke=!1;function mr(){Ke||(Ke=!0,pr.then(Jt))}function We(e){_e.push(e)}const De=new Set;let de=0;function Jt(){if(de!==0)return;const e=Ve;do{try{for(;de<me.length;){const t=me[de];de++,Me(t),gr(t.$$)}}catch(t){throw me.length=0,de=0,t}for(Me(null),me.length=0,de=0;Ze.length;)Ze.pop()();for(let t=0;t<_e.length;t+=1){const r=_e[t];De.has(r)||(De.add(r),r())}_e.length=0}while(me.length);for(;ct.length;)ct.pop()();Ke=!1,De.clear(),Me(e)}function gr(e){if(e.fragment!==null){e.update(),ie(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(We)}}function yr(e){const t=[],r=[];_e.forEach(n=>e.indexOf(n)===-1?t.push(n):r.push(n)),r.forEach(n=>n()),_e=t}const Ae=new Set;let se;function Qt(){se={r:0,c:[],p:se}}function er(){se.r||ie(se.c),se=se.p}function z(e,t){e&&e.i&&(Ae.delete(e),e.i(t))}function R(e,t,r,n){if(e&&e.o){if(Ae.has(e))return;Ae.add(e),se.c.push(()=>{Ae.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}function xr(e,t){R(e,1,1,()=>{t.delete(e.key)})}function _r(e,t,r,n,o,a,i,l,s,u,c,f){let d=e.length,p=a.length,g=d;const h={};for(;g--;)h[e[g].key]=g;const b=[],m=new Map,$=new Map,L=[];for(g=p;g--;){const M=f(o,a,g),O=r(M);let H=i.get(O);H?n&&L.push(()=>H.p(M,t)):(H=u(O,M),H.c()),m.set(O,b[g]=H),O in h&&$.set(O,Math.abs(g-h[O]))}const oe=new Set,N=new Set;function W(M){z(M,1),M.m(l,c),i.set(M.key,M),c=M.first,p--}for(;d&&p;){const M=b[p-1],O=e[d-1],H=M.key,Q=O.key;M===O?(c=M.first,d--,p--):m.has(Q)?!i.has(H)||oe.has(H)?W(M):N.has(Q)?d--:$.get(H)>$.get(Q)?(N.add(H),W(M)):(oe.add(Q),d--):(s(O,i),d--)}for(;d--;){const M=e[d];m.has(M.key)||s(M,i)}for(;p;)W(b[p-1]);return ie(L),b}function K(e){e&&e.c()}function F(e,t,r,n){const{fragment:o,after_update:a}=e.$$;o&&o.m(t,r),n||We(()=>{const i=e.$$.on_mount.map(Kt).filter(ae);e.$$.on_destroy?e.$$.on_destroy.push(...i):ie(i),e.$$.on_mount=[]}),a.forEach(We)}function D(e,t){const r=e.$$;r.fragment!==null&&(yr(r.after_update),ie(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function br(e,t){e.$$.dirty[0]===-1&&(me.push(e),mr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,r,n,o,a,i,l=[-1]){const s=Ve;Me(e);const u=e.$$={fragment:null,ctx:[],props:a,update:B,not_equal:o,bound:ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:ft(),dirty:l,skip_bound:!1,root:t.target||s.$$.root};i&&i(u.root);let c=!1;if(u.ctx=r?r(e,t.props||{},(f,d,...p)=>{const g=p.length?p[0]:d;return u.ctx&&o(u.ctx[f],u.ctx[f]=g)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](g),c&&br(e,f)),d}):[],u.update(),c=!0,ie(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const f=hr(t.target);u.fragment&&u.fragment.l(f),f.forEach(k)}else u.fragment&&u.fragment.c();t.intro&&z(e.$$.fragment),F(e,t.target,t.anchor,t.customElement),Jt()}Me(s)}class ne{$destroy(){D(this,1),this.$destroy=B}$on(t,r){if(!ae(r))return B;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const o=n.indexOf(r);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!cr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}let wr=e=>{let t=(r,n)=>{switch(n.operator){case"+":return o=>o[r]+n.operatorValue;case"-":return o=>o[r]-n.operatorValue;case"*":return o=>o[r]*n.operatorValue;case"/":return o=>o[r]/n.operatorValue}};return{name:e.name,xOperation:t("x",e.x),yOperation:t("y",e.y)}};const ht=[{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:6,y:-3},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:14,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:1,y:-4},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:8,y:-1},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:18,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:1,y:-3},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-4,y:-4},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:3,y:-1},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:3,y:0},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:14,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:10,y:1},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:22,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:1,y:-2},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-4,y:-2},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-4,y:-1},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:14,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-9,y:0},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:20,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-2,y:1},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:14,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-2,y:2},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:5,y:2},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:12,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:3,y:1},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-2,y:4},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:10,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:5,y:3},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:12,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:5,y:4},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:18,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:12,y:3},operations:[{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:1},name:"xPlus2_yMinus1"},{x:{operator:"-",operatorValue:3},y:{operator:"*",operatorValue:2},name:"xMinus3_yTimes2"},{x:{operator:"+",operatorValue:4},y:{operator:"+",operatorValue:1},name:"xPlus4_yPlus1"}],boardSideSize:26,maxMoves:6}],tr=()=>{const e=Math.floor(Math.random()*ht.length),t=ht[e],r={...t,operations:[]};return t.operations.forEach(n=>{r.operations.push(wr(n))}),console.log(r),r},pe=[];function vr(e,t){return{subscribe:ot(e,t).subscribe}}function ot(e,t=B){let r;const n=new Set;function o(l){if(J(e,l)&&(e=l,r)){const s=!pe.length;for(const u of n)u[1](),pe.push(u,e);if(s){for(let u=0;u<pe.length;u+=2)pe[u][0](pe[u+1]);pe.length=0}}}function a(l){o(l(e))}function i(l,s=B){const u=[l,s];return n.add(u),n.size===1&&(r=t(o)||B),l(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:o,update:a,subscribe:i}}function le(e,t,r){const n=!Array.isArray(e),o=n?[e]:e,a=t.length<2;return vr(r,i=>{let l=!1;const s=[];let u=0,c=B;const f=()=>{if(u)return;c();const p=t(n?s[0]:s,i);a?i(p):c=ae(p)?p:B},d=o.map((p,g)=>Wt(p,h=>{s[g]=h,u&=~(1<<g),l&&f()},()=>{u|=1<<g}));return l=!0,f(),function(){ie(d),c(),l=!1}})}const dt={sourceCoordinate:{x:0,y:0},targetCoordinate:{x:0,y:0},operations:[],boardSideSize:0,maxMoves:0,state:{currentPath:[],currentHover:null},loaded:!1},pt=(e,t)=>e.x>=t.x[0]&&e.x<=t.x[1]&&e.y>=t.y[0]&&e.y<=t.y[1],Mr=()=>{const{subscribe:e,set:t,update:r}=ot(dt);return{subscribe:e,set:t,setGameConfiguration:n=>t({...n,state:{currentPath:[n.sourceCoordinate],currentHover:null},loaded:!0}),addCoordinate:(n,o)=>r(a=>(pt(n,o)&&a.state.currentPath.push(n),a.state.currentHover=null,a)),addHoverCoordinate:(n,o)=>r(a=>(pt(n,o)&&(a.state.currentHover=n),a)),removeHoverCoordinate:()=>r(n=>(n.state.currentHover=null,n)),removeLastCoordinate:()=>r(n=>(n.state.currentPath.length>1&&(n.state.currentPath=n.state.currentPath.slice(0,-1)),n.state.currentHover=null,n)),reset:()=>t(dt),resetGameState:()=>r(n=>(n.state={currentPath:[n.sourceCoordinate],currentHover:null},n))}},T=Mr(),Ie=le(T,e=>e.state.currentPath),Be=le(T,e=>{let t=e.state.currentPath;return t.length>0?t[t.length-1]:e.sourceCoordinate}),Vr=le(T,e=>e.state.currentHover),rr=le([T,Be],([e,t])=>e.targetCoordinate.x==t.x&&e.targetCoordinate.y==t.y),nr=le(T,e=>e.maxMoves-e.state.currentPath.length+1),Pr=le([rr,nr],([e,t])=>e?!1:t>0),kr=()=>{const{subscribe:e,set:t}=ot({height:1,width:1});return{subscribe:e,set:t}},Ce=kr();le(Ce,e=>e?e.height/2>e.width:!1);const $r=le(Ce,e=>e?e.height/2:0);function Cr(e){const t=()=>{Ce.set({width:window.innerWidth,height:window.innerHeight})};return nt(()=>{t(),window.addEventListener("resize",t)}),dr(()=>{window.removeEventListener("resize",t)}),[]}class Sr extends ne{constructor(t){super(),re(this,t,Cr,null,J,{})}}function Oe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function or(e){let t,r,n;e.length!==2?(t=Oe,r=(l,s)=>Oe(e(l),s),n=(l,s)=>e(l)-s):(t=e===Oe||e===Nr?e:zr,r=e,n=e);function o(l,s,u=0,c=l.length){if(u<c){if(t(s,s)!==0)return c;do{const f=u+c>>>1;r(l[f],s)<0?u=f+1:c=f}while(u<c)}return u}function a(l,s,u=0,c=l.length){if(u<c){if(t(s,s)!==0)return c;do{const f=u+c>>>1;r(l[f],s)<=0?u=f+1:c=f}while(u<c)}return u}function i(l,s,u=0,c=l.length){const f=o(l,s,u,c-1);return f>u&&n(l[f-1],s)>-n(l[f],s)?f-1:f}return{left:o,center:i,right:a}}function zr(){return 0}function Hr(e){return e===null?NaN:+e}const Er=or(Oe),Ar=Er.right;or(Hr).center;const Or=Ar,qr=Math.sqrt(50),Rr=Math.sqrt(10),Tr=Math.sqrt(2);function qe(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),a=n/Math.pow(10,o),i=a>=qr?10:a>=Rr?5:a>=Tr?2:1;let l,s,u;return o<0?(u=Math.pow(10,-o)/i,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,o)*i,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=r&&r<2?qe(e,t,r*2):[l,s,u]}function Lr(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[o,a,i]=n?qe(t,e,r):qe(e,t,r);if(!(a>=o))return[];const l=a-o+1,s=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)s[u]=(a-u)/-i;else for(let u=0;u<l;++u)s[u]=(a-u)*i;else if(i<0)for(let u=0;u<l;++u)s[u]=(o+u)/-i;else for(let u=0;u<l;++u)s[u]=(o+u)*i;return s}function Ye(e,t,r){return t=+t,e=+e,r=+r,qe(e,t,r)[2]}function jr(e,t,r){t=+t,e=+e,r=+r;const n=t<e,o=n?Ye(t,e,r):Ye(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function at(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ar(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Se(){}var Pe=.7,Re=1/Pe,be="\\s*([+-]?\\d+)\\s*",ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ir=/^#([0-9a-f]{3,8})$/,Br=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),Fr=new RegExp(`^rgb\\(${te},${te},${te}\\)$`),Dr=new RegExp(`^rgba\\(${be},${be},${be},${ke}\\)$`),Ur=new RegExp(`^rgba\\(${te},${te},${te},${ke}\\)$`),Xr=new RegExp(`^hsl\\(${ke},${te},${te}\\)$`),Zr=new RegExp(`^hsla\\(${ke},${te},${te},${ke}\\)$`),mt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};at(Se,$e,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gt,formatHex:gt,formatHex8:Kr,formatHsl:Wr,formatRgb:yt,toString:yt});function gt(){return this.rgb().formatHex()}function Kr(){return this.rgb().formatHex8()}function Wr(){return ir(this).formatHsl()}function yt(){return this.rgb().formatRgb()}function $e(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ir.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?xt(t):r===3?new I(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ne(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ne(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Br.exec(e))?new I(t[1],t[2],t[3],1):(t=Fr.exec(e))?new I(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dr.exec(e))?Ne(t[1],t[2],t[3],t[4]):(t=Ur.exec(e))?Ne(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xr.exec(e))?wt(t[1],t[2]/100,t[3]/100,1):(t=Zr.exec(e))?wt(t[1],t[2]/100,t[3]/100,t[4]):mt.hasOwnProperty(e)?xt(mt[e]):e==="transparent"?new I(NaN,NaN,NaN,0):null}function xt(e){return new I(e>>16&255,e>>8&255,e&255,1)}function Ne(e,t,r,n){return n<=0&&(e=t=r=NaN),new I(e,t,r,n)}function Yr(e){return e instanceof Se||(e=$e(e)),e?(e=e.rgb(),new I(e.r,e.g,e.b,e.opacity)):new I}function Je(e,t,r,n){return arguments.length===1?Yr(e):new I(e,t,r,n??1)}function I(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}at(I,Je,ar(Se,{brighter(e){return e=e==null?Re:Math.pow(Re,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pe:Math.pow(Pe,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new I(ce(this.r),ce(this.g),ce(this.b),Te(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_t,formatHex:_t,formatHex8:Jr,formatRgb:bt,toString:bt}));function _t(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}`}function Jr(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}${fe((isNaN(this.opacity)?1:this.opacity)*255)}`}function bt(){const e=Te(this.opacity);return`${e===1?"rgb(":"rgba("}${ce(this.r)}, ${ce(this.g)}, ${ce(this.b)}${e===1?")":`, ${e})`}`}function Te(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ce(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fe(e){return e=ce(e),(e<16?"0":"")+e.toString(16)}function wt(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Y(e,t,r,n)}function ir(e){if(e instanceof Y)return new Y(e.h,e.s,e.l,e.opacity);if(e instanceof Se||(e=$e(e)),!e)return new Y;if(e instanceof Y)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,l=a-o,s=(a+o)/2;return l?(t===a?i=(r-n)/l+(r<n)*6:r===a?i=(n-t)/l+2:i=(t-r)/l+4,l/=s<.5?a+o:2-a-o,i*=60):l=s>0&&s<1?0:i,new Y(i,l,s,e.opacity)}function Qr(e,t,r,n){return arguments.length===1?ir(e):new Y(e,t,r,n??1)}function Y(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}at(Y,Qr,ar(Se,{brighter(e){return e=e==null?Re:Math.pow(Re,e),new Y(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pe:Math.pow(Pe,e),new Y(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new I(Ue(e>=240?e-240:e+120,o,n),Ue(e,o,n),Ue(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Y(vt(this.h),ze(this.s),ze(this.l),Te(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Te(this.opacity);return`${e===1?"hsl(":"hsla("}${vt(this.h)}, ${ze(this.s)*100}%, ${ze(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vt(e){return e=(e||0)%360,e<0?e+360:e}function ze(e){return Math.max(0,Math.min(1,e||0))}function Ue(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const it=e=>()=>e;function en(e,t){return function(r){return e+r*t}}function tn(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rn(e){return(e=+e)==1?lr:function(t,r){return r-t?tn(t,r,e):it(isNaN(t)?r:t)}}function lr(e,t){var r=t-e;return r?en(e,r):it(isNaN(e)?t:e)}const Mt=function e(t){var r=rn(t);function n(o,a){var i=r((o=Je(o)).r,(a=Je(a)).r),l=r(o.g,a.g),s=r(o.b,a.b),u=lr(o.opacity,a.opacity);return function(c){return o.r=i(c),o.g=l(c),o.b=s(c),o.opacity=u(c),o+""}}return n.gamma=e,n}(1);function nn(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(a){for(o=0;o<r;++o)n[o]=e[o]*(1-a)+t[o]*a;return n}}function on(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function an(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)o[i]=lt(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(l){for(i=0;i<n;++i)a[i]=o[i](l);return a}}function ln(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Le(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function un(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=lt(e[o],t[o]):n[o]=t[o];return function(a){for(o in r)n[o]=r[o](a);return n}}var Qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xe=new RegExp(Qe.source,"g");function sn(e){return function(){return e}}function fn(e){return function(t){return e(t)+""}}function cn(e,t){var r=Qe.lastIndex=Xe.lastIndex=0,n,o,a,i=-1,l=[],s=[];for(e=e+"",t=t+"";(n=Qe.exec(e))&&(o=Xe.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,s.push({i,x:Le(n,o)})),r=Xe.lastIndex;return r<t.length&&(a=t.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?s[0]?fn(s[0].x):sn(t):(t=s.length,function(u){for(var c=0,f;c<t;++c)l[(f=s[c]).i]=f.x(u);return l.join("")})}function lt(e,t){var r=typeof t,n;return t==null||r==="boolean"?it(t):(r==="number"?Le:r==="string"?(n=$e(t))?(t=n,Mt):cn:t instanceof $e?Mt:t instanceof Date?ln:on(t)?nn:Array.isArray(t)?an:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?un:Le)(e,t)}function hn(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dn(e){return function(){return e}}function pn(e){return+e}var Vt=[0,1];function ye(e){return e}function et(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dn(isNaN(t)?NaN:.5)}function mn(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function gn(e,t,r){var n=e[0],o=e[1],a=t[0],i=t[1];return o<n?(n=et(o,n),a=r(i,a)):(n=et(n,o),a=r(a,i)),function(l){return a(n(l))}}function yn(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)o[i]=et(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(l){var s=Or(e,l,1,n)-1;return a[s](o[s](l))}}function xn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _n(){var e=Vt,t=Vt,r=lt,n,o,a,i=ye,l,s,u;function c(){var d=Math.min(e.length,t.length);return i!==ye&&(i=mn(e[0],e[d-1])),l=d>2?yn:gn,s=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(s||(s=l(e.map(n),t,r)))(n(i(d)))}return f.invert=function(d){return i(o((u||(u=l(t,e.map(n),Le)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,pn),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=hn,c()},f.clamp=function(d){return arguments.length?(i=d?!0:ye,c()):i!==ye},f.interpolate=function(d){return arguments.length?(r=d,c()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return n=d,o=p,c()}}function bn(){return _n()(ye,ye)}function wn(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function je(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function we(e){return e=je(Math.abs(e)),e?e[1]:NaN}function vn(e,t){return function(r,n){for(var o=r.length,a=[],i=0,l=e[0],s=0;o>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),a.push(r.substring(o-=l,o+l)),!((s+=l+1)>n));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function Mn(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Vn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ge(e){if(!(t=Vn.exec(e)))throw new Error("invalid format: "+e);var t;return new ut({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ge.prototype=ut.prototype;function ut(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ut.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pn(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var ur;function kn(e,t){var r=je(e,t);if(!r)return e+"";var n=r[0],o=r[1],a=o-(ur=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+je(e,Math.max(0,t+a-1))[0]}function Pt(e,t){var r=je(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const kt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wn,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pt(e*100,t),r:Pt,s:kn,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $t(e){return e}var Ct=Array.prototype.map,St=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $n(e){var t=e.grouping===void 0||e.thousands===void 0?$t:vn(Ct.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?$t:Mn(Ct.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ge(f);var d=f.fill,p=f.align,g=f.sign,h=f.symbol,b=f.zero,m=f.width,$=f.comma,L=f.precision,oe=f.trim,N=f.type;N==="n"?($=!0,N="g"):kt[N]||(L===void 0&&(L=12),oe=!0,N="g"),(b||d==="0"&&p==="=")&&(b=!0,d="0",p="=");var W=h==="$"?r:h==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",M=h==="$"?n:/[%p]/.test(N)?i:"",O=kt[N],H=/[defgprs%]/.test(N);L=L===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function Q(_){var E=W,C=M,V,w,q;if(N==="c")C=O(_)+C,_="";else{_=+_;var U=_<0||1/_<0;if(_=isNaN(_)?s:O(Math.abs(_),L),oe&&(_=Pn(_)),U&&+_==0&&g!=="+"&&(U=!1),E=(U?g==="("?g:l:g==="-"||g==="("?"":g)+E,C=(N==="s"?St[8+ur/3]:"")+C+(U&&g==="("?")":""),H){for(V=-1,w=_.length;++V<w;)if(q=_.charCodeAt(V),48>q||q>57){C=(q===46?o+_.slice(V+1):_.slice(V))+C,_=_.slice(0,V);break}}}$&&!b&&(_=t(_,1/0));var ue=E.length+_.length+C.length,P=ue<m?new Array(m-ue+1).join(d):"";switch($&&b&&(_=t(P+_,P.length?m-C.length:1/0),P=""),p){case"<":_=E+_+C+P;break;case"=":_=E+P+_+C;break;case"^":_=P.slice(0,ue=P.length>>1)+E+_+C+P.slice(ue);break;default:_=P+E+_+C;break}return a(_)}return Q.toString=function(){return f+""},Q}function c(f,d){var p=u((f=Ge(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(we(d)/3)))*3,h=Math.pow(10,-g),b=St[8+g/3];return function(m){return p(h*m)+b}}return{format:u,formatPrefix:c}}var He,sr,fr;Cn({thousands:",",grouping:[3],currency:["$",""]});function Cn(e){return He=$n(e),sr=He.format,fr=He.formatPrefix,He}function Sn(e){return Math.max(0,-we(Math.abs(e)))}function Nn(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(we(t)/3)))*3-we(Math.abs(e)))}function zn(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,we(t)-we(e))+1}function Hn(e,t,r,n){var o=jr(e,t,r),a;switch(n=Ge(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Nn(o,i))&&(n.precision=a),fr(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=zn(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Sn(o))&&(n.precision=a-(n.type==="%")*2);break}}return sr(n)}function En(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lr(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return Hn(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,a=n.length-1,i=n[o],l=n[a],s,u,c=10;for(l<i&&(u=i,i=l,l=u,u=o,o=a,a=u);c-- >0;){if(u=Ye(i,l,r),u===s)return n[o]=i,n[a]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function tt(){var e=bn();return e.copy=function(){return xn(e,tt())},Gr.apply(e,arguments),En(e)}const xe=(e,t,r=1,n=!1)=>{if(e>t&&r>0||e<t&&r<0)return null;let o=[];if(n)for(let a=t;r>0?a>=e:a<=e;a-=r)o=[a,...o];else for(let a=e;r>0?a<=t:a>=t;a+=r)o.push(a);return o},Nt=(e,t,r=1)=>{if(e>t&&r>0||e<t&&r<0)return null;const n=xe(e,0,r,!0),o=xe(r,t,r);return n&&o?[...n,...o]:[]},zt=(e,t)=>{const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r},An=e=>e.height/2>e.width,On=(e,t)=>{const r=An(t),n=r?t.width:t.height/2,o=r?t.height/2:t.width,a=n/e;let i=Math.floor(o/a);return i-=i%2==0?0:1,r?{x:[-e/2,e/2],y:[-i/2,i/2]}:{x:[-i/2,i/2],y:[-e/2,e/2]}};function Ht(e,t,r){const n=e.slice();return n[14]=t[r],n[16]=r,n}function Et(e,t,r){const n=e.slice();return n[17]=t[r],n}function At(e,t,r){const n=e.slice();return n[17]=t[r],n}function Ot(e){let t,r=e[17]+"",n;return{c(){t=j("text"),n=v(r),y(t,"x",e[11].left-8),y(t,"y","+4"),y(t,"class","svelte-9nekqu")},m(o,a){S(o,t,a),x(t,n)},p(o,a){a&1&&r!==(r=o[17]+"")&&Z(n,r)},d(o){o&&k(t)}}}function qt(e){let t,r,n,o=e[3].indexOf(e[17])>=0,a,i,l=o&&Ot(e);return{c(){t=j("g"),r=j("line"),l&&l.c(),y(r,"x1",e[11].left),y(r,"x2",n=e[6](e[0].x[1])),y(r,"class","svelte-9nekqu"),G(r,"cross-axis",e[17]==0),G(r,"bold-tick",e[3].indexOf(e[17])>=0),y(t,"class",a="tick tick-"+e[17]+" svelte-9nekqu"),y(t,"transform",i="translate(0, "+e[5](e[17])+")")},m(s,u){S(s,t,u),x(t,r),l&&l.m(t,null)},p(s,u){u&65&&n!==(n=s[6](s[0].x[1]))&&y(r,"x2",n),u&1&&G(r,"cross-axis",s[17]==0),u&9&&G(r,"bold-tick",s[3].indexOf(s[17])>=0),u&9&&(o=s[3].indexOf(s[17])>=0),o?l?l.p(s,u):(l=Ot(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null),u&1&&a!==(a="tick tick-"+s[17]+" svelte-9nekqu")&&y(t,"class",a),u&33&&i!==(i="translate(0, "+s[5](s[17])+")")&&y(t,"transform",i)},d(s){s&&k(t),l&&l.d()}}}function Rt(e){let t,r=e[17]+"",n,o;return{c(){t=j("text"),n=v(r),y(t,"y",o=e[1]-e[11].bottom+16),y(t,"class","svelte-9nekqu")},m(a,i){S(a,t,i),x(t,n)},p(a,i){i&1&&r!==(r=a[17]+"")&&Z(n,r),i&2&&o!==(o=a[1]-a[11].bottom+16)&&y(t,"y",o)},d(a){a&&k(t)}}}function Tt(e){let t,r,n,o,a=e[4].indexOf(e[17])>=0,i,l=a&&Rt(e);return{c(){t=j("g"),r=j("line"),l&&l.c(),y(r,"y1",n=e[5](e[0].y[0])),y(r,"y2",o=e[5](e[0].y[1])),y(r,"class","svelte-9nekqu"),G(r,"cross-axis",e[17]==0),G(r,"bold-tick",e[3].indexOf(e[17])>=0),y(t,"class","tick"),y(t,"transform",i="translate("+e[6](e[17])+",0)")},m(s,u){S(s,t,u),x(t,r),l&&l.m(t,null)},p(s,u){u&33&&n!==(n=s[5](s[0].y[0]))&&y(r,"y1",n),u&33&&o!==(o=s[5](s[0].y[1]))&&y(r,"y2",o),u&1&&G(r,"cross-axis",s[17]==0),u&9&&G(r,"bold-tick",s[3].indexOf(s[17])>=0),u&17&&(a=s[4].indexOf(s[17])>=0),a?l?l.p(s,u):(l=Rt(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null),u&65&&i!==(i="translate("+s[6](s[17])+",0)")&&y(t,"transform",i)},d(s){s&&k(t),l&&l.d()}}}function qn(e){let t,r,n,o,a;return{c(){t=j("line"),y(t,"x1",r=e[6](e[7][e[16]-1].x)),y(t,"y1",n=e[5](e[7][e[16]-1].y)),y(t,"x2",o=e[6](e[14].x)),y(t,"y2",a=e[5](e[14].y)),y(t,"class","path-vector svelte-9nekqu")},m(i,l){S(i,t,l)},p(i,l){l&192&&r!==(r=i[6](i[7][i[16]-1].x))&&y(t,"x1",r),l&160&&n!==(n=i[5](i[7][i[16]-1].y))&&y(t,"y1",n),l&192&&o!==(o=i[6](i[14].x))&&y(t,"x2",o),l&160&&a!==(a=i[5](i[14].y))&&y(t,"y2",a)},d(i){i&&k(t)}}}function Lt(e){let t,r,n,o,a=e[14].x+"",i,l,s=e[14].y+"",u,c,f,d;return{c(){t=j("text"),r=v("P"),n=v(e[16]),o=v(" ("),i=v(a),l=v(","),u=v(s),c=v(")"),y(t,"x",f=e[6](e[14].x)+Ee),y(t,"y",d=e[5](e[14].y)+Ee),y(t,"class","svelte-9nekqu")},m(p,g){S(p,t,g),x(t,r),x(t,n),x(t,o),x(t,i),x(t,l),x(t,u),x(t,c)},p(p,g){g&128&&a!==(a=p[14].x+"")&&Z(i,a),g&128&&s!==(s=p[14].y+"")&&Z(u,s),g&192&&f!==(f=p[6](p[14].x)+Ee)&&y(t,"x",f),g&160&&d!==(d=p[5](p[14].y)+Ee)&&y(t,"y",d)},d(p){p&&k(t)}}}function jt(e){let t,r,n,o,a=e[16]>0&&qn(e),i=e[16]==e[7].length-1&&Lt(e);return{c(){a&&a.c(),t=j("circle"),i&&i.c(),o=rt(),y(t,"cx",r=e[6](e[14].x)),y(t,"cy",n=e[5](e[14].y)),y(t,"r","5"),y(t,"class","path-crd svelte-9nekqu"),G(t,"current-crd",e[16]==e[7].length-1)},m(l,s){a&&a.m(l,s),S(l,t,s),i&&i.m(l,s),S(l,o,s)},p(l,s){l[16]>0&&a.p(l,s),s&192&&r!==(r=l[6](l[14].x))&&y(t,"cx",r),s&160&&n!==(n=l[5](l[14].y))&&y(t,"cy",n),s&128&&G(t,"current-crd",l[16]==l[7].length-1),l[16]==l[7].length-1?i?i.p(l,s):(i=Lt(l),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(l){a&&a.d(l),l&&k(t),i&&i.d(l),l&&k(o)}}}function Gt(e){let t,r,n,o,a,i,l,s;return{c(){t=j("line"),i=j("circle"),y(t,"x1",r=e[6](e[9].x)),y(t,"y1",n=e[5](e[9].y)),y(t,"x2",o=e[6](e[8].x)),y(t,"y2",a=e[5](e[8].y)),y(t,"class","hover-vector svelte-9nekqu"),y(i,"cx",l=e[6](e[8].x)),y(i,"cy",s=e[5](e[8].y)),y(i,"r","5"),y(i,"class","hover-crd svelte-9nekqu")},m(u,c){S(u,t,c),S(u,i,c)},p(u,c){c&576&&r!==(r=u[6](u[9].x))&&y(t,"x1",r),c&544&&n!==(n=u[5](u[9].y))&&y(t,"y1",n),c&320&&o!==(o=u[6](u[8].x))&&y(t,"x2",o),c&288&&a!==(a=u[5](u[8].y))&&y(t,"y2",a),c&320&&l!==(l=u[6](u[8].x))&&y(i,"cx",l),c&288&&s!==(s=u[5](u[8].y))&&y(i,"cy",s)},d(u){u&&k(t),u&&k(i)}}}function Rn(e){let t,r,n,o,a,i,l,s=xe(...e[0].y),u=[];for(let h=0;h<s.length;h+=1)u[h]=qt(At(e,s,h));let c=xe(...e[0].x),f=[];for(let h=0;h<c.length;h+=1)f[h]=Tt(Et(e,c,h));let d=e[7],p=[];for(let h=0;h<d.length;h+=1)p[h]=jt(Ht(e,d,h));let g=e[8]&&Gt(e);return{c(){t=j("svg"),r=j("g");for(let h=0;h<u.length;h+=1)u[h].c();n=j("g");for(let h=0;h<f.length;h+=1)f[h].c();for(let h=0;h<p.length;h+=1)p[h].c();o=rt(),g&&g.c(),a=j("circle"),y(r,"class","axis horizontal-axis"),y(n,"class","axis vertical-axis"),y(a,"cx",i=e[6](e[10].targetCoordinate.x)),y(a,"cy",l=e[5](e[10].targetCoordinate.y)),y(a,"r","5"),y(a,"class","target-crd svelte-9nekqu"),y(t,"class","svg-graph svelte-9nekqu")},m(h,b){S(h,t,b),x(t,r);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(r,null);x(t,n);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(n,null);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(t,null);x(t,o),g&&g.m(t,null),x(t,a),e[13](t)},p(h,[b]){if(b&2153){s=xe(...h[0].y);let m;for(m=0;m<s.length;m+=1){const $=At(h,s,m);u[m]?u[m].p($,b):(u[m]=qt($),u[m].c(),u[m].m(r,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=s.length}if(b&2171){c=xe(...h[0].x);let m;for(m=0;m<c.length;m+=1){const $=Et(h,c,m);f[m]?f[m].p($,b):(f[m]=Tt($),f[m].c(),f[m].m(n,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=c.length}if(b&224){d=h[7];let m;for(m=0;m<d.length;m+=1){const $=Ht(h,d,m);p[m]?p[m].p($,b):(p[m]=jt($),p[m].c(),p[m].m(t,o))}for(;m<p.length;m+=1)p[m].d(1);p.length=d.length}h[8]?g?g.p(h,b):(g=Gt(h),g.c(),g.m(t,a)):g&&(g.d(1),g=null),b&1088&&i!==(i=h[6](h[10].targetCoordinate.x))&&y(a,"cx",i),b&1056&&l!==(l=h[5](h[10].targetCoordinate.y))&&y(a,"cy",l)},i:B,o:B,d(h){h&&k(t),ve(u,h),ve(f,h),ve(p,h),g&&g.d(),e[13](null)}}}const Ee=14;function Tn(e,t,r){let n,o,a,i,l,s,u,c,f,d;A(e,$r,m=>r(1,l=m)),A(e,Ce,m=>r(12,s=m)),A(e,Ie,m=>r(7,u=m)),A(e,Vr,m=>r(8,c=m)),A(e,Be,m=>r(9,f=m)),A(e,T,m=>r(10,d=m));let p,{domain:g={x:[0,0],y:[0,0]}}=t;const h={top:20,right:40,bottom:40,left:25};function b(m){Ze[m?"unshift":"push"](()=>{p=m,r(2,p)})}return e.$$set=m=>{"domain"in m&&r(0,g=m.domain)},e.$$.update=()=>{e.$$.dirty&4097&&r(6,n=tt().domain(g.x).range([h.left,s.width-h.right])),e.$$.dirty&3&&r(5,o=tt().domain(g.y).range([l-h.bottom,h.top])),e.$$.dirty&4097&&r(4,a=Nt(...g.x,s.width>200?2:5)),e.$$.dirty&3&&r(3,i=Nt(...g.y,l>200?2:5))},[g,l,p,i,a,o,n,u,c,f,d,h,s,b]}class Ln extends ne{constructor(t){super(),re(this,t,Tn,Rn,J,{domain:0})}}function jn(e){let t,r,n,o;return{c(){t=X("div"),r=v(e[0]),ge(t,"--widthPrecentage",e[1]+"%"),ge(t,"--heightPercentage",e[2]+"%"),y(t,"class","btn svelte-1bk6i7s"),G(t,"active",e[7]),G(t,"disabled",!e[3])},m(a,i){S(a,t,i),x(t,r),n||(o=[he(t,"mousedown",function(){ae(e[3]&&e[8](!0))&&(e[3]&&e[8](!0)).apply(this,arguments)}),he(t,"mouseup",function(){ae(e[3]&&e[8](!1))&&(e[3]&&e[8](!1)).apply(this,arguments)}),he(t,"mouseout",function(){ae(e[3]&&e[8](!1))&&(e[3]&&e[8](!1)).apply(this,arguments)}),he(t,"click",function(){ae(e[3]&&e[6])&&(e[3]&&e[6]).apply(this,arguments)}),he(t,"mouseover",function(){ae(e[3]&&e[4])&&(e[3]&&e[4]).apply(this,arguments)}),he(t,"mouseleave",function(){ae(e[3]&&e[5])&&(e[3]&&e[5]).apply(this,arguments)})],n=!0)},p(a,[i]){e=a,i&1&&Z(r,e[0]),i&2&&ge(t,"--widthPrecentage",e[1]+"%"),i&4&&ge(t,"--heightPercentage",e[2]+"%"),i&128&&G(t,"active",e[7]),i&8&&G(t,"disabled",!e[3])},i:B,o:B,d(a){a&&k(t),n=!1,ie(o)}}}function Gn(e,t,r){let{text:n}=t,{widthPrecentage:o=30}=t,{heightPercentage:a=50}=t,{isEnabled:i=!0}=t,{onHover:l=null}=t,{onMouseLeave:s=null}=t,{onClick:u}=t,c=!1,f=d=>()=>{r(7,c=d)};return e.$$set=d=>{"text"in d&&r(0,n=d.text),"widthPrecentage"in d&&r(1,o=d.widthPrecentage),"heightPercentage"in d&&r(2,a=d.heightPercentage),"isEnabled"in d&&r(3,i=d.isEnabled),"onHover"in d&&r(4,l=d.onHover),"onMouseLeave"in d&&r(5,s=d.onMouseLeave),"onClick"in d&&r(6,u=d.onClick)},[n,o,a,i,l,s,u,c,f]}class Fe extends ne{constructor(t){super(),re(this,t,Gn,jn,J,{text:0,widthPrecentage:1,heightPercentage:2,isEnabled:3,onHover:4,onMouseLeave:5,onClick:6})}}function In(e){let t,r;return t=new Fe({props:{onClick:T.removeLastCoordinate,isEnabled:!(e[0].length<=1),text:"Undo"}}),{c(){K(t.$$.fragment)},m(n,o){F(t,n,o),r=!0},p(n,[o]){const a={};o&1&&(a.isEnabled=!(n[0].length<=1)),t.$set(a)},i(n){r||(z(t.$$.fragment,n),r=!0)},o(n){R(t.$$.fragment,n),r=!1},d(n){D(t,n)}}}function Bn(e,t,r){let n;return A(e,Ie,o=>r(0,n=o)),[n]}class Fn extends ne{constructor(t){super(),re(this,t,Bn,In,J,{})}}function Dn(e){let t,r;return t=new Fe({props:{onClick:e[0],text:"New"}}),{c(){K(t.$$.fragment)},m(n,o){F(t,n,o),r=!0},p:B,i(n){r||(z(t.$$.fragment,n),r=!0)},o(n){R(t.$$.fragment,n),r=!1},d(n){D(t,n)}}}function Un(e){return[()=>{const r=tr();T.setGameConfiguration(r)}]}class Xn extends ne{constructor(t){super(),re(this,t,Un,Dn,J,{})}}function Zn(e){let t,r;return t=new Fe({props:{onHover:e[3],onClick:e[2],onMouseLeave:T.removeHoverCoordinate,isEnabled:e[1],text:e[0].name}}),{c(){K(t.$$.fragment)},m(n,o){F(t,n,o),r=!0},p(n,[o]){const a={};o&2&&(a.isEnabled=n[1]),o&1&&(a.text=n[0].name),t.$set(a)},i(n){r||(z(t.$$.fragment,n),r=!0)},o(n){R(t.$$.fragment,n),r=!1},d(n){D(t,n)}}}function Kn(e,t,r){let n,o,a;A(e,rr,c=>r(5,n=c)),A(e,Be,c=>r(6,o=c)),A(e,Pr,c=>r(1,a=c));let{operation:i}=t,{domain:l}=t;const s=()=>{const c={x:i.xOperation(o),y:i.yOperation(o)};T.addCoordinate(c,l)},u=()=>{const c={x:i.xOperation(o),y:i.yOperation(o)};T.addHoverCoordinate(c,l),console.table(n)};return e.$$set=c=>{"operation"in c&&r(0,i=c.operation),"domain"in c&&r(4,l=c.domain)},[i,a,s,u,l]}class Wn extends ne{constructor(t){super(),re(this,t,Kn,Zn,J,{operation:0,domain:4})}}function Yn(e){let t,r;return t=new Fe({props:{onClick:T.resetGameState,isEnabled:!(e[0].length<=1),text:"Reset"}}),{c(){K(t.$$.fragment)},m(n,o){F(t,n,o),r=!0},p(n,[o]){const a={};o&1&&(a.isEnabled=!(n[0].length<=1)),t.$set(a)},i(n){r||(z(t.$$.fragment,n),r=!0)},o(n){R(t.$$.fragment,n),r=!1},d(n){D(t,n)}}}function Jn(e,t,r){let n;return A(e,Ie,o=>r(0,n=o)),[n]}class Qn extends ne{constructor(t){super(),re(this,t,Jn,Yn,J,{})}}function It(e,t,r){const n=e.slice();return n[3]=t[r],n[5]=r,n}function Bt(e,t,r){const n=e.slice();return n[6]=t[r],n}function Ft(e,t){let r,n,o;return n=new Wn({props:{operation:t[6],domain:t[0]}}),{key:e,first:null,c(){r=rt(),K(n.$$.fragment),this.first=r},m(a,i){S(a,r,i),F(n,a,i),o=!0},p(a,i){t=a;const l={};i&2&&(l.operation=t[6]),i&1&&(l.domain=t[0]),n.$set(l)},i(a){o||(z(n.$$.fragment,a),o=!0)},o(a){R(n.$$.fragment,a),o=!1},d(a){a&&k(r),D(n,a)}}}function Dt(e){let t,r=[],n=new Map,o,a=e[3];const i=l=>l[6].name;for(let l=0;l<a.length;l+=1){let s=Bt(e,a,l),u=i(s);n.set(u,r[l]=Ft(u,s))}return{c(){t=X("div");for(let l=0;l<r.length;l+=1)r[l].c();y(t,"class","btn-panel-row btn-panel-row-"+e[5]+" svelte-h4znpw"),ge(t,"--heightPercentage",e[2]+"%")},m(l,s){S(l,t,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);o=!0},p(l,s){s&3&&(a=l[3],Qt(),r=_r(r,s,i,1,l,a,n,t,xr,Ft,null,Bt),er()),(!o||s&4)&&ge(t,"--heightPercentage",l[2]+"%")},i(l){if(!o){for(let s=0;s<a.length;s+=1)z(r[s]);o=!0}},o(l){for(let s=0;s<r.length;s+=1)R(r[s]);o=!1},d(l){l&&k(t);for(let s=0;s<r.length;s+=1)r[s].d()}}}function eo(e){let t,r,n,o,a,i,l,s,u,c=zt(e[1].operations,3),f=[];for(let p=0;p<c.length;p+=1)f[p]=Dt(It(e,c,p));const d=p=>R(f[p],1,1,()=>{f[p]=null});return o=new Fn({}),i=new Qn({}),s=new Xn({}),{c(){t=X("div");for(let p=0;p<f.length;p+=1)f[p].c();r=ee(),n=X("div"),K(o.$$.fragment),a=ee(),K(i.$$.fragment),l=ee(),K(s.$$.fragment),y(n,"class","btn-panel-row svelte-h4znpw"),y(t,"class","btn-panel svelte-h4znpw")},m(p,g){S(p,t,g);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null);x(t,r),x(t,n),F(o,n,null),x(n,a),F(i,n,null),x(n,l),F(s,n,null),u=!0},p(p,[g]){if(g&7){c=zt(p[1].operations,3);let h;for(h=0;h<c.length;h+=1){const b=It(p,c,h);f[h]?(f[h].p(b,g),z(f[h],1)):(f[h]=Dt(b),f[h].c(),z(f[h],1),f[h].m(t,r))}for(Qt(),h=c.length;h<f.length;h+=1)d(h);er()}},i(p){if(!u){for(let g=0;g<c.length;g+=1)z(f[g]);z(o.$$.fragment,p),z(i.$$.fragment,p),z(s.$$.fragment,p),u=!0}},o(p){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)R(f[g]);R(o.$$.fragment,p),R(i.$$.fragment,p),R(s.$$.fragment,p),u=!1},d(p){p&&k(t),ve(f,p),D(o),D(i),D(s)}}}function to(e,t,r){let n,o;A(e,T,i=>r(1,o=i));let{domain:a}=t;return e.$$set=i=>{"domain"in i&&r(0,a=i.domain)},e.$$.update=()=>{e.$$.dirty&2&&r(2,n=100/(o.operations.length/3))},[a,o,n]}class ro extends ne{constructor(t){super(),re(this,t,to,eo,J,{domain:0})}}function Ut(e,t,r){const n=e.slice();return n[6]=t[r],n[8]=r,n}function Xt(e){let t;return{c(){t=v("->")},m(r,n){S(r,t,n)},d(r){r&&k(t)}}}function Zt(e){let t,r,n=e[6].x+"",o,a,i=e[6].y+"",l,s,u,c=e[8]!=e[3].length-1&&Xt();return{c(){t=X("span"),r=v("("),o=v(n),a=v(", "),l=v(i),s=v(`)\r
                `),c&&c.c(),u=ee()},m(f,d){S(f,t,d),x(t,r),x(t,o),x(t,a),x(t,l),x(t,s),c&&c.m(t,null),x(t,u)},p(f,d){d&8&&n!==(n=f[6].x+"")&&Z(o,n),d&8&&i!==(i=f[6].y+"")&&Z(l,i),f[8]!=f[3].length-1?c||(c=Xt(),c.c(),c.m(t,u)):c&&(c.d(1),c=null)},d(f){f&&k(t),c&&c.d()}}}function no(e){let t,r,n,o,a,i,l,s=e[2].x+"",u,c,f=e[2].y+"",d,p,g,h,b=e[0].targetCoordinate.x+"",m,$,L=e[0].targetCoordinate.y+"",oe,N,W,M,O,H,Q,_,E;r=new Ln({props:{domain:e[1]}}),o=new ro({props:{domain:e[1]}});let C=e[3],V=[];for(let w=0;w<C.length;w+=1)V[w]=Zt(Ut(e,C,w));return{c(){t=X("div"),K(r.$$.fragment),n=ee(),K(o.$$.fragment),a=ee(),i=X("div"),l=v("Current: "),u=v(s),c=v(", "),d=v(f),p=ee(),g=X("div"),h=v("Goal: "),m=v(b),$=v(", "),oe=v(L),N=ee(),W=X("div"),M=v(`Path:\r
        `);for(let w=0;w<V.length;w+=1)V[w].c();O=ee(),H=X("div"),Q=v("Remaining Moves: "),_=v(e[4]),y(t,"class","puzzle-session")},m(w,q){S(w,t,q),F(r,t,null),x(t,n),F(o,t,null),x(t,a),x(t,i),x(i,l),x(i,u),x(i,c),x(i,d),x(t,p),x(t,g),x(g,h),x(g,m),x(g,$),x(g,oe),x(t,N),x(t,W),x(W,M);for(let U=0;U<V.length;U+=1)V[U]&&V[U].m(W,null);x(t,O),x(t,H),x(H,Q),x(H,_),E=!0},p(w,[q]){const U={};q&2&&(U.domain=w[1]),r.$set(U);const ue={};if(q&2&&(ue.domain=w[1]),o.$set(ue),(!E||q&4)&&s!==(s=w[2].x+"")&&Z(u,s),(!E||q&4)&&f!==(f=w[2].y+"")&&Z(d,f),(!E||q&1)&&b!==(b=w[0].targetCoordinate.x+"")&&Z(m,b),(!E||q&1)&&L!==(L=w[0].targetCoordinate.y+"")&&Z(oe,L),q&8){C=w[3];let P;for(P=0;P<C.length;P+=1){const st=Ut(w,C,P);V[P]?V[P].p(st,q):(V[P]=Zt(st),V[P].c(),V[P].m(W,null))}for(;P<V.length;P+=1)V[P].d(1);V.length=C.length}(!E||q&16)&&Z(_,w[4])},i(w){E||(z(r.$$.fragment,w),z(o.$$.fragment,w),E=!0)},o(w){R(r.$$.fragment,w),R(o.$$.fragment,w),E=!1},d(w){w&&k(t),D(r),D(o),ve(V,w)}}}function oo(e,t,r){let n,o,a,i,l,s;return A(e,Ce,u=>r(5,o=u)),A(e,T,u=>r(0,a=u)),A(e,Be,u=>r(2,i=u)),A(e,Ie,u=>r(3,l=u)),A(e,nr,u=>r(4,s=u)),nt(()=>{T.resetGameState()}),e.$$.update=()=>{e.$$.dirty&33&&r(1,n=On(a.boardSideSize,o))},[a,n,i,l,s,o]}class ao extends ne{constructor(t){super(),re(this,t,oo,no,J,{})}}function io(e){let t,r,n,o,a,i,l;return n=new Sr({}),a=new ao({}),{c(){t=X("main"),r=X("div"),K(n.$$.fragment),o=ee(),K(a.$$.fragment),y(r,"id","vectory-app"),y(r,"class","svelte-5ymcxk"),y(t,"class",i=e[0]+"-theme svelte-5ymcxk")},m(s,u){S(s,t,u),x(t,r),F(n,r,null),x(r,o),F(a,r,null),l=!0},p(s,[u]){(!l||u&1&&i!==(i=s[0]+"-theme svelte-5ymcxk"))&&y(t,"class",i)},i(s){l||(z(n.$$.fragment,s),z(a.$$.fragment,s),l=!0)},o(s){R(n.$$.fragment,s),R(a.$$.fragment,s),l=!1},d(s){s&&k(t),D(n),D(a)}}}function lo(e,t,r){let n;nt(()=>{n=tr(),T.setGameConfiguration(n)});let{theme:o="alternate"}=t;return e.$$set=a=>{"theme"in a&&r(0,o=a.theme)},[o]}class uo extends ne{constructor(t){super(),re(this,t,lo,io,J,{theme:0})}}new uo({target:document.body,props:{}});
