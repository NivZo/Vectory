(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Y(){}const vt=e=>e;function nr(e,t){for(const n in t)e[n]=t[n];return e}function Sn(e){return e()}function Et(){return Object.create(null)}function fe(e){e.forEach(Sn)}function se(e){return typeof e=="function"}function te(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function rr(e){return Object.keys(e).length===0}function Cn(e,...t){if(e==null)return Y;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function F(e,t,n){e.$$.on_destroy.push(Cn(t,n))}function Nn(e,t,n,r){if(e){const o=Pn(e,t,n,r);return e[0](o)}}function Pn(e,t,n,r){return e[1]&&r?nr(n.ctx.slice(),e[1](r(t))):n.ctx}function Vn(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const a=[],i=Math.max(t.dirty.length,o.length);for(let l=0;l<i;l+=1)a[l]=t.dirty[l]|o[l];return a}return t.dirty|o}return t.dirty}function zn(e,t,n,r,o,a){if(o){const i=Pn(t,n,r,a);e.p(i,o)}}function En(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}const Hn=typeof window<"u";let An=Hn?()=>window.performance.now():()=>Date.now(),$t=Hn?e=>requestAnimationFrame(e):Y;const Me=new Set;function On(e){Me.forEach(t=>{t.c(e)||(Me.delete(t),t.f())}),Me.size!==0&&$t(On)}function Ln(e){let t;return Me.size===0&&$t(On),{promise:new Promise(n=>{Me.add(t={c:e,f:n})}),abort(){Me.delete(t)}}}function p(e,t){e.appendChild(t)}function Rn(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function or(e){const t=q("style");return ir(Rn(e),t),t.sheet}function ir(e,t){return p(e.head||e,t),t.sheet}function R(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode&&e.parentNode.removeChild(e)}function we(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function G(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function V(e){return document.createTextNode(e)}function T(){return V(" ")}function Ae(){return V("")}function ge(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function jn(e){return function(t){return t.preventDefault(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ar(e){return Array.from(e.childNodes)}function W(e,t){t=""+t,e.data!==t&&(e.data=t)}function ae(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Z(e,t,n){e.classList[n?"add":"remove"](t)}function lr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}const Xe=new Map;let Ye=0;function sr(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ur(e,t){const n={stylesheet:or(t),rules:{}};return Xe.set(e,n),n}function ct(e,t,n,r,o,a,i,l=0){const s=16.666/r;let u=`{
`;for(let k=0;k<=1;k+=s){const y=t+(n-t)*a(k);u+=k*100+`%{${i(y,1-y)}}
`}const f=u+`100% {${i(n,1-n)}}
}`,c=`__svelte_${sr(f)}_${l}`,h=Rn(e),{stylesheet:_,rules:x}=Xe.get(h)||ur(h,e);x[c]||(x[c]=!0,_.insertRule(`@keyframes ${c} ${f}`,_.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${c} ${r}ms linear ${o}ms 1 both`,Ye+=1,c}function ht(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Ye-=o,Ye||fr())}function fr(){$t(()=>{Ye||(Xe.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&L(t)}),Xe.clear())})}let Oe;function Ee(e){Oe=e}function ot(){if(!Oe)throw new Error("Function called outside component initialization");return Oe}function Mt(e){ot().$$.on_mount.push(e)}function cr(e){ot().$$.on_destroy.push(e)}function qn(e,t){return ot().$$.context.set(e,t),t}function hr(e){return ot().$$.context.get(e)}const xe=[],dt=[];let ke=[];const Ht=[],dr=Promise.resolve();let gt=!1;function gr(){gt||(gt=!0,dr.then(Bn))}function _e(e){ke.push(e)}const st=new Set;let ye=0;function Bn(){if(ye!==0)return;const e=Oe;do{try{for(;ye<xe.length;){const t=xe[ye];ye++,Ee(t),mr(t.$$)}}catch(t){throw xe.length=0,ye=0,t}for(Ee(null),xe.length=0,ye=0;dt.length;)dt.pop()();for(let t=0;t<ke.length;t+=1){const n=ke[t];st.has(n)||(st.add(n),n())}ke.length=0}while(xe.length);for(;Ht.length;)Ht.pop()();gt=!1,st.clear(),Ee(e)}function mr(e){if(e.fragment!==null){e.update(),fe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_e)}}function pr(e){const t=[],n=[];ke.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),ke=t}let ze;function In(){return ze||(ze=Promise.resolve(),ze.then(()=>{ze=null})),ze}function He(e,t,n){e.dispatchEvent(lr(`${t?"intro":"outro"}${n}`))}const Te=new Set;let ue;function Ce(){ue={r:0,c:[],p:ue}}function Ne(){ue.r||fe(ue.c),ue=ue.p}function S(e,t){e&&e.i&&(Te.delete(e),e.i(t))}function A(e,t,n,r){if(e&&e.o){if(Te.has(e))return;Te.add(e),ue.c.push(()=>{Te.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Gn={duration:0};function _r(e,t,n){const r={direction:"in"};let o=t(e,n,r),a=!1,i,l,s=0;function u(){i&&ht(e,i)}function f(){const{delay:h=0,duration:_=300,easing:x=vt,tick:v=Y,css:k}=o||Gn;k&&(i=ct(e,0,1,_,h,x,k,s++)),v(0,1);const y=An()+h,P=y+_;l&&l.abort(),a=!0,_e(()=>He(e,!0,"start")),l=Ln($=>{if(a){if($>=P)return v(1,0),He(e,!0,"end"),u(),a=!1;if($>=y){const w=x(($-y)/_);v(w,1-w)}}return a})}let c=!1;return{start(){c||(c=!0,ht(e),se(o)?(o=o(r),In().then(f)):f())},invalidate(){c=!1},end(){a&&(u(),a=!1)}}}function At(e,t,n,r){const o={direction:"both"};let a=t(e,n,o),i=r?0:1,l=null,s=null,u=null;function f(){u&&ht(e,u)}function c(_,x){const v=_.b-i;return x*=Math.abs(v),{a:i,b:_.b,d:v,duration:x,start:_.start,end:_.start+x,group:_.group}}function h(_){const{delay:x=0,duration:v=300,easing:k=vt,tick:y=Y,css:P}=a||Gn,$={start:An()+x,b:_};_||($.group=ue,ue.r+=1),l||s?s=$:(P&&(f(),u=ct(e,i,_,v,x,k,P)),_&&y(0,1),l=c($,v),_e(()=>He(e,_,"start")),Ln(w=>{if(s&&w>s.start&&(l=c(s,v),s=null,He(e,l.b,"start"),P&&(f(),u=ct(e,i,l.b,l.duration,0,k,a.css))),l){if(w>=l.end)y(i=l.b,1-i),He(e,l.b,"end"),s||(l.b?f():--l.group.r||fe(l.group.c)),l=null;else if(w>=l.start){const b=w-l.start;i=l.a+l.d*k(b/l.duration),y(i,1-i)}}return!!(l||s)}))}return{run(_){se(a)?In().then(()=>{a=a(o),h(_)}):h(_)},end(){f(),l=s=null}}}function yr(e,t){A(e,1,1,()=>{t.delete(e.key)})}function br(e,t,n,r,o,a,i,l,s,u,f,c){let h=e.length,_=a.length,x=h;const v={};for(;x--;)v[e[x].key]=x;const k=[],y=new Map,P=new Map,$=[];for(x=_;x--;){const O=c(o,a,x),z=n(O);let B=i.get(z);B?r&&$.push(()=>B.p(O,t)):(B=u(z,O),B.c()),y.set(z,k[x]=B),z in v&&P.set(z,Math.abs(x-v[z]))}const w=new Set,b=new Set;function C(O){S(O,1),O.m(l,f),i.set(O.key,O),f=O.first,_--}for(;h&&_;){const O=k[_-1],z=e[h-1],B=O.key,E=z.key;O===z?(f=O.first,h--,_--):y.has(E)?!i.has(B)||w.has(B)?C(O):b.has(E)?h--:P.get(B)>P.get(E)?(b.add(B),C(O)):(w.add(E),h--):(s(z,i),h--)}for(;h--;){const O=e[h];y.has(O.key)||s(O,i)}for(;_;)C(k[_-1]);return fe($),k}function J(e){e&&e.c()}function U(e,t,n,r){const{fragment:o,after_update:a}=e.$$;o&&o.m(t,n),r||_e(()=>{const i=e.$$.on_mount.map(Sn).filter(se);e.$$.on_destroy?e.$$.on_destroy.push(...i):fe(i),e.$$.on_mount=[]}),a.forEach(_e)}function X(e,t){const n=e.$$;n.fragment!==null&&(pr(n.after_update),fe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function xr(e,t){e.$$.dirty[0]===-1&&(xe.push(e),gr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,n,r,o,a,i,l=[-1]){const s=Oe;Ee(e);const u=e.$$={fragment:null,ctx:[],props:a,update:Y,not_equal:o,bound:Et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Et(),dirty:l,skip_bound:!1,root:t.target||s.$$.root};i&&i(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(c,h,..._)=>{const x=_.length?_[0]:h;return u.ctx&&o(u.ctx[c],u.ctx[c]=x)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](x),f&&xr(e,c)),h}):[],u.update(),f=!0,fe(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const c=ar(t.target);u.fragment&&u.fragment.l(c),c.forEach(L)}else u.fragment&&u.fragment.c();t.intro&&S(e.$$.fragment),U(e,t.target,t.anchor,t.customElement),Bn()}Ee(s)}class oe{$destroy(){X(this,1),this.$destroy=Y}$on(t,n){if(!se(n))return Y;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!rr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const wr=e=>{let t=(n,r)=>{if(r)switch(r.operator){case"+":return o=>o[n]+r.operatorValue;case"-":return o=>o[n]-r.operatorValue;case"*":return o=>o[n]*r.operatorValue}return o=>o[n]};return{x:e.x?{name:Lt("x",e.x),action:t("x",e.x)}:Rt.x,y:e.y?{name:Lt("y",e.y),action:t("y",e.y)}:Rt.y}},mt=(e,t)=>e.x>=t.x[0]&&e.x<=t.x[1]&&e.y>=t.y[0]&&e.y<=t.y[1],Ot=(e,t,n)=>{const r={x:e.x.action(t),y:e.y.action(t)};return!(r.x==t.x&&r.y==t.y)&&mt(r,n)},Lt=(e,t)=>`${t.operator}${t.operatorValue}`.toUpperCase().replace("*","×"),Rt={x:{name:"",action:e=>e.x},y:{name:"",action:e=>e.y}},jt=[{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:7,y:18},operations:[{x:{operator:"+",operatorValue:3},y:{operator:"+",operatorValue:5}},{x:{operator:"-",operatorValue:2},y:{operator:"+",operatorValue:3}}],boardSideSize:40,maxMoves:5},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:10,y:15},operations:[{x:{operator:"+",operatorValue:3},y:{operator:"+",operatorValue:5}},{x:{operator:"+",operatorValue:1},y:null}],boardSideSize:34,maxMoves:5},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:2,y:12},operations:[{x:{operator:"+",operatorValue:2},y:null},{x:null,y:{operator:"+",operatorValue:3}}],boardSideSize:28,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:6,y:9},operations:[{x:{operator:"+",operatorValue:2},y:null},{x:null,y:{operator:"+",operatorValue:3}},{x:{operator:"+",operatorValue:4},y:null}],boardSideSize:22,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:10,y:6},operations:[{x:{operator:"+",operatorValue:2},y:null},{x:null,y:{operator:"+",operatorValue:3}},{x:{operator:"+",operatorValue:4},y:null}],boardSideSize:24,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:29,y:15},operations:[{x:{operator:"+",operatorValue:5},y:{operator:"+",operatorValue:3}},{x:{operator:"+",operatorValue:4},y:null}],boardSideSize:62,maxMoves:7},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:30,y:12},operations:[{x:{operator:"+",operatorValue:5},y:{operator:"+",operatorValue:3}},{x:{operator:"+",operatorValue:5},y:{operator:"-",operatorValue:3}}],boardSideSize:64,maxMoves:7},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:12,y:-2},operations:[{x:{operator:"+",operatorValue:2},y:null},{x:null,y:{operator:"-",operatorValue:2}}],boardSideSize:28,maxMoves:8},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:12,y:1},operations:[{x:{operator:"+",operatorValue:2},y:null},{x:null,y:{operator:"+",operatorValue:1}}],boardSideSize:28,maxMoves:8},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:10,y:2},operations:[{x:{operator:"+",operatorValue:2},y:null},{x:{operator:"-",operatorValue:2},y:{operator:"+",operatorValue:2}}],boardSideSize:28,maxMoves:8},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:14,y:-13},operations:[{x:{operator:"+",operatorValue:4},y:{operator:"-",operatorValue:3}},{x:{operator:"+",operatorValue:2},y:{operator:"-",operatorValue:4}}],boardSideSize:32,maxMoves:5},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:8,y:-5},operations:[{x:{operator:"+",operatorValue:4},y:{operator:"-",operatorValue:3}},{x:{operator:"-",operatorValue:4},y:{operator:"+",operatorValue:4}}],boardSideSize:28,maxMoves:5},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-6,y:2},operations:[{x:{operator:"-",operatorValue:2},y:null},{x:{operator:"+",operatorValue:2},y:{operator:"+",operatorValue:2}}],boardSideSize:20,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-4,y:6},operations:[{x:{operator:"-",operatorValue:2},y:null},{x:{operator:"+",operatorValue:2},y:{operator:"+",operatorValue:2}},{x:null,y:{operator:"*",operatorValue:3}}],boardSideSize:16,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-2,y:4},operations:[{x:{operator:"-",operatorValue:2},y:null},{x:{operator:"+",operatorValue:2},y:{operator:"+",operatorValue:2}}],boardSideSize:16,maxMoves:6},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-12,y:7},operations:[{x:{operator:"-",operatorValue:2},y:{operator:"+",operatorValue:2}},{x:{operator:"-",operatorValue:2},y:{operator:"-",operatorValue:3}}],boardSideSize:28,maxMoves:7},{sourceCoordinate:{x:0,y:0},targetCoordinate:{x:-7,y:12},operations:[{x:{operator:"-",operatorValue:2},y:{operator:"+",operatorValue:2}},{x:{operator:"+",operatorValue:3},y:{operator:"+",operatorValue:2}}],boardSideSize:28,maxMoves:7}],be=[];function vr(e,t){return{subscribe:qe(e,t).subscribe}}function qe(e,t=Y){let n;const r=new Set;function o(l){if(te(e,l)&&(e=l,n)){const s=!be.length;for(const u of r)u[1](),be.push(u,e);if(s){for(let u=0;u<be.length;u+=2)be[u][0](be[u+1]);be.length=0}}}function a(l){o(l(e))}function i(l,s=Y){const u=[l,s];return r.add(u),r.size===1&&(n=t(o)||Y),l(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:o,update:a,subscribe:i}}function de(e,t,n){const r=!Array.isArray(e),o=r?[e]:e,a=t.length<2;return vr(n,i=>{let l=!1;const s=[];let u=0,f=Y;const c=()=>{if(u)return;f();const _=t(r?s[0]:s,i);a?i(_):f=se(_)?_:Y},h=o.map((_,x)=>Cn(_,v=>{s[x]=v,u&=~(1<<x),l&&c()},()=>{u|=1<<x}));return l=!0,c(),function(){fe(h),f(),l=!1}})}const qt=(e,t=null)=>{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t},$r=(e,t)=>{const{subscribe:n,update:r,set:o}=qe(qt(e)??t);return n(a=>{window.localStorage.setItem(e,JSON.stringify(a))}),{subscribe:n,update:r,set:o,read:(a=null)=>qt(e,a)}},Mr="currentLevel",Bt=$r(Mr,1),Je={...Bt,increment:()=>{Bt.update(e=>e+1)}},Dn=()=>{let e=Je.read()-1;e>=jt.length&&(Je.set(1),e=0);const t=jt[e],n={...t,operations:t.operations.map(wr)};return console.log(n),n},It={sourceCoordinate:{x:0,y:0},targetCoordinate:{x:0,y:0},operations:[],boardSideSize:0,maxMoves:0,state:{currentPath:[],currentHover:null},loaded:!1},kr=()=>{const{subscribe:e,set:t,update:n}=qe(It);return{subscribe:e,set:t,setGameConfiguration:r=>t({...r,state:{currentPath:[r.sourceCoordinate],currentHover:null},loaded:!0}),addCoordinate:(r,o)=>n(a=>(mt(r,o)&&a.state.currentPath.push(r),a.state.currentHover=null,a)),addHoverCoordinate:(r,o)=>n(a=>(mt(r,o)&&(a.state.currentHover=r),a)),removeHoverCoordinate:()=>n(r=>(r.state.currentHover=null,r)),removeLastCoordinate:()=>n(r=>(r.state.currentPath.length>1&&(r.state.currentPath=r.state.currentPath.slice(0,-1)),r.state.currentHover=null,r)),reset:()=>t(It),resetGameState:()=>n(r=>(r.state={currentPath:[r.sourceCoordinate],currentHover:null},r))}},K=kr(),Fn=de(K,e=>e.state.currentPath),it=de(K,e=>{let t=e.state.currentPath;return t.length>0?t[t.length-1]:e.sourceCoordinate}),Sr=de(K,e=>e.state.currentHover),Tn=de([K,it],([e,t])=>e.targetCoordinate.x==t.x&&e.targetCoordinate.y==t.y),Un=de(K,e=>e.maxMoves-e.state.currentPath.length+1),Cr=de([Tn,Un],([e,t])=>e?!1:t>0),Nr=()=>{const{subscribe:e,set:t}=qe({height:1,width:1});return{subscribe:e,set:t}},Pe=Nr();de(Pe,e=>e?e.height/2>e.width:!1);const Pr=de(Pe,e=>e?e.height/2:0);function Vr(e){let t,n;const r=e[2].default,o=Nn(r,e,e[1],null);return{c(){t=q("div"),o&&o.c(),d(t,"id","display-provider"),ae(t,"height",e[0].height+"px"),ae(t,"width",e[0].width+"px")},m(a,i){R(a,t,i),o&&o.m(t,null),n=!0},p(a,[i]){o&&o.p&&(!n||i&2)&&zn(o,r,a,a[1],n?Vn(r,a[1],i,null):En(a[1]),null),(!n||i&1)&&ae(t,"height",a[0].height+"px"),(!n||i&1)&&ae(t,"width",a[0].width+"px")},i(a){n||(S(o,a),n=!0)},o(a){A(o,a),n=!1},d(a){a&&L(t),o&&o.d(a)}}}function zr(e,t,n){let r;F(e,Pe,l=>n(0,r=l));let{$$slots:o={},$$scope:a}=t;const i=()=>{Pe.set({width:window.innerWidth,height:window.innerHeight})};return Mt(()=>{i(),window.addEventListener("resize",i)}),cr(()=>{window.removeEventListener("resize",i)}),e.$$set=l=>{"$$scope"in l&&n(1,a=l.$$scope)},[r,a,o]}class Er extends oe{constructor(t){super(),re(this,t,zr,Vr,te,{})}}function Ue(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xn(e){let t,n,r;e.length!==2?(t=Ue,n=(l,s)=>Ue(e(l),s),r=(l,s)=>e(l)-s):(t=e===Ue||e===Hr?e:Ar,n=e,r=e);function o(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const c=u+f>>>1;n(l[c],s)<0?u=c+1:f=c}while(u<f)}return u}function a(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const c=u+f>>>1;n(l[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function i(l,s,u=0,f=l.length){const c=o(l,s,u,f-1);return c>u&&r(l[c-1],s)>-r(l[c],s)?c-1:c}return{left:o,center:i,right:a}}function Ar(){return 0}function Or(e){return e===null?NaN:+e}const Lr=Xn(Ue),Rr=Lr.right;Xn(Or).center;const jr=Rr,qr=Math.sqrt(50),Br=Math.sqrt(10),Ir=Math.sqrt(2);function Ke(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),i=a>=qr?10:a>=Br?5:a>=Ir?2:1;let l,s,u;return o<0?(u=Math.pow(10,-o)/i,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,o)*i,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Ke(e,t,n*2):[l,s,u]}function Gr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,a,i]=r?Ke(t,e,n):Ke(e,t,n);if(!(a>=o))return[];const l=a-o+1,s=new Array(l);if(r)if(i<0)for(let u=0;u<l;++u)s[u]=(a-u)/-i;else for(let u=0;u<l;++u)s[u]=(a-u)*i;else if(i<0)for(let u=0;u<l;++u)s[u]=(o+u)/-i;else for(let u=0;u<l;++u)s[u]=(o+u)*i;return s}function pt(e,t,n){return t=+t,e=+e,n=+n,Ke(e,t,n)[2]}function Dr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?pt(t,e,n):pt(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Be(){}var Le=.7,We=1/Le,Se="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tr=/^#([0-9a-f]{3,8})$/,Ur=new RegExp(`^rgb\\(${Se},${Se},${Se}\\)$`),Xr=new RegExp(`^rgb\\(${le},${le},${le}\\)$`),Yr=new RegExp(`^rgba\\(${Se},${Se},${Se},${Re}\\)$`),Jr=new RegExp(`^rgba\\(${le},${le},${le},${Re}\\)$`),Kr=new RegExp(`^hsl\\(${Re},${le},${le}\\)$`),Wr=new RegExp(`^hsla\\(${Re},${le},${le},${Re}\\)$`),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kt(Be,je,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Dt,formatHex:Dt,formatHex8:Zr,formatHsl:Qr,formatRgb:Ft,toString:Ft});function Dt(){return this.rgb().formatHex()}function Zr(){return this.rgb().formatHex8()}function Qr(){return Jn(this).formatHsl()}function Ft(){return this.rgb().formatRgb()}function je(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tt(t):n===3?new Q(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ge(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ge(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ur.exec(e))?new Q(t[1],t[2],t[3],1):(t=Xr.exec(e))?new Q(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yr.exec(e))?Ge(t[1],t[2],t[3],t[4]):(t=Jr.exec(e))?Ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kr.exec(e))?Yt(t[1],t[2]/100,t[3]/100,1):(t=Wr.exec(e))?Yt(t[1],t[2]/100,t[3]/100,t[4]):Gt.hasOwnProperty(e)?Tt(Gt[e]):e==="transparent"?new Q(NaN,NaN,NaN,0):null}function Tt(e){return new Q(e>>16&255,e>>8&255,e&255,1)}function Ge(e,t,n,r){return r<=0&&(e=t=n=NaN),new Q(e,t,n,r)}function eo(e){return e instanceof Be||(e=je(e)),e?(e=e.rgb(),new Q(e.r,e.g,e.b,e.opacity)):new Q}function _t(e,t,n,r){return arguments.length===1?eo(e):new Q(e,t,n,r??1)}function Q(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}kt(Q,_t,Yn(Be,{brighter(e){return e=e==null?We:Math.pow(We,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Le:Math.pow(Le,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Q(pe(this.r),pe(this.g),pe(this.b),Ze(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ut,formatHex:Ut,formatHex8:to,formatRgb:Xt,toString:Xt}));function Ut(){return`#${me(this.r)}${me(this.g)}${me(this.b)}`}function to(){return`#${me(this.r)}${me(this.g)}${me(this.b)}${me((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xt(){const e=Ze(this.opacity);return`${e===1?"rgb(":"rgba("}${pe(this.r)}, ${pe(this.g)}, ${pe(this.b)}${e===1?")":`, ${e})`}`}function Ze(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function me(e){return e=pe(e),(e<16?"0":"")+e.toString(16)}function Yt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ne(e,t,n,r)}function Jn(e){if(e instanceof ne)return new ne(e.h,e.s,e.l,e.opacity);if(e instanceof Be||(e=je(e)),!e)return new ne;if(e instanceof ne)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,l=a-o,s=(a+o)/2;return l?(t===a?i=(n-r)/l+(n<r)*6:n===a?i=(r-t)/l+2:i=(t-n)/l+4,l/=s<.5?a+o:2-a-o,i*=60):l=s>0&&s<1?0:i,new ne(i,l,s,e.opacity)}function no(e,t,n,r){return arguments.length===1?Jn(e):new ne(e,t,n,r??1)}function ne(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}kt(ne,no,Yn(Be,{brighter(e){return e=e==null?We:Math.pow(We,e),new ne(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Le:Math.pow(Le,e),new ne(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Q(ut(e>=240?e-240:e+120,o,r),ut(e,o,r),ut(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new ne(Jt(this.h),De(this.s),De(this.l),Ze(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ze(this.opacity);return`${e===1?"hsl(":"hsla("}${Jt(this.h)}, ${De(this.s)*100}%, ${De(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jt(e){return e=(e||0)%360,e<0?e+360:e}function De(e){return Math.max(0,Math.min(1,e||0))}function ut(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const St=e=>()=>e;function ro(e,t){return function(n){return e+n*t}}function oo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function io(e){return(e=+e)==1?Kn:function(t,n){return n-t?oo(t,n,e):St(isNaN(t)?n:t)}}function Kn(e,t){var n=t-e;return n?ro(e,n):St(isNaN(e)?t:e)}const Kt=function e(t){var n=io(t);function r(o,a){var i=n((o=_t(o)).r,(a=_t(a)).r),l=n(o.g,a.g),s=n(o.b,a.b),u=Kn(o.opacity,a.opacity);return function(f){return o.r=i(f),o.g=l(f),o.b=s(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function ao(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(a){for(o=0;o<n;++o)r[o]=e[o]*(1-a)+t[o]*a;return r}}function lo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function so(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)o[i]=Ct(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(l){for(i=0;i<r;++i)a[i]=o[i](l);return a}}function uo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Qe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fo(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Ct(e[o],t[o]):r[o]=t[o];return function(a){for(o in n)r[o]=n[o](a);return r}}var yt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ft=new RegExp(yt.source,"g");function co(e){return function(){return e}}function ho(e){return function(t){return e(t)+""}}function go(e,t){var n=yt.lastIndex=ft.lastIndex=0,r,o,a,i=-1,l=[],s=[];for(e=e+"",t=t+"";(r=yt.exec(e))&&(o=ft.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),l[i]?l[i]+=a:l[++i]=a),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,s.push({i,x:Qe(r,o)})),n=ft.lastIndex;return n<t.length&&(a=t.slice(n),l[i]?l[i]+=a:l[++i]=a),l.length<2?s[0]?ho(s[0].x):co(t):(t=s.length,function(u){for(var f=0,c;f<t;++f)l[(c=s[f]).i]=c.x(u);return l.join("")})}function Ct(e,t){var n=typeof t,r;return t==null||n==="boolean"?St(t):(n==="number"?Qe:n==="string"?(r=je(t))?(t=r,Kt):go:t instanceof je?Kt:t instanceof Date?uo:lo(t)?ao:Array.isArray(t)?so:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fo:Qe)(e,t)}function mo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function po(e){return function(){return e}}function _o(e){return+e}var Wt=[0,1];function ve(e){return e}function bt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:po(isNaN(t)?NaN:.5)}function yo(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bo(e,t,n){var r=e[0],o=e[1],a=t[0],i=t[1];return o<r?(r=bt(o,r),a=n(i,a)):(r=bt(r,o),a=n(a,i)),function(l){return a(r(l))}}function xo(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=bt(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(l){var s=jr(e,l,1,r)-1;return a[s](o[s](l))}}function wo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vo(){var e=Wt,t=Wt,n=Ct,r,o,a,i=ve,l,s,u;function f(){var h=Math.min(e.length,t.length);return i!==ve&&(i=yo(e[0],e[h-1])),l=h>2?xo:bo,s=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(s||(s=l(e.map(r),t,n)))(r(i(h)))}return c.invert=function(h){return i(o((u||(u=l(t,e.map(r),Qe)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,_o),f()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=mo,f()},c.clamp=function(h){return arguments.length?(i=h?!0:ve,f()):i!==ve},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,_){return r=h,o=_,f()}}function $o(){return vo()(ve,ve)}function Mo(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function et(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ve(e){return e=et(Math.abs(e)),e?e[1]:NaN}function ko(e,t){return function(n,r){for(var o=n.length,a=[],i=0,l=e[0],s=0;o>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(o-=l,o+l)),!((s+=l+1)>r));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function So(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Co=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tt(e){if(!(t=Co.exec(e)))throw new Error("invalid format: "+e);var t;return new Nt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tt.prototype=Nt.prototype;function Nt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function No(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var Wn;function Po(e,t){var n=et(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(Wn=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+et(e,Math.max(0,t+a-1))[0]}function Zt(e,t){var n=et(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Qt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mo,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zt(e*100,t),r:Zt,s:Po,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function en(e){return e}var tn=Array.prototype.map,nn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Vo(e){var t=e.grouping===void 0||e.thousands===void 0?en:ko(tn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?en:So(tn.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(c){c=tt(c);var h=c.fill,_=c.align,x=c.sign,v=c.symbol,k=c.zero,y=c.width,P=c.comma,$=c.precision,w=c.trim,b=c.type;b==="n"?(P=!0,b="g"):Qt[b]||($===void 0&&($=12),w=!0,b="g"),(k||h==="0"&&_==="=")&&(k=!0,h="0",_="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",O=v==="$"?r:/[%p]/.test(b)?i:"",z=Qt[b],B=/[defgprs%]/.test(b);$=$===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function E(N){var I=C,H=O,j,m,M;if(b==="c")H=z(N)+H,N="";else{N=+N;var g=N<0||1/N<0;if(N=isNaN(N)?s:z(Math.abs(N),$),w&&(N=No(N)),g&&+N==0&&x!=="+"&&(g=!1),I=(g?x==="("?x:l:x==="-"||x==="("?"":x)+I,H=(b==="s"?nn[8+Wn/3]:"")+H+(g&&x==="("?")":""),B){for(j=-1,m=N.length;++j<m;)if(M=N.charCodeAt(j),48>M||M>57){H=(M===46?o+N.slice(j+1):N.slice(j))+H,N=N.slice(0,j);break}}}P&&!k&&(N=t(N,1/0));var D=I.length+N.length+H.length,ee=D<y?new Array(y-D+1).join(h):"";switch(P&&k&&(N=t(ee+N,ee.length?y-H.length:1/0),ee=""),_){case"<":N=I+N+H+ee;break;case"=":N=I+ee+N+H;break;case"^":N=ee.slice(0,D=ee.length>>1)+I+N+H+ee.slice(D);break;default:N=ee+I+N+H;break}return a(N)}return E.toString=function(){return c+""},E}function f(c,h){var _=u((c=tt(c),c.type="f",c)),x=Math.max(-8,Math.min(8,Math.floor(Ve(h)/3)))*3,v=Math.pow(10,-x),k=nn[8+x/3];return function(y){return _(v*y)+k}}return{format:u,formatPrefix:f}}var Fe,Zn,Qn;zo({thousands:",",grouping:[3],currency:["$",""]});function zo(e){return Fe=Vo(e),Zn=Fe.format,Qn=Fe.formatPrefix,Fe}function Eo(e){return Math.max(0,-Ve(Math.abs(e)))}function Ho(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ve(t)/3)))*3-Ve(Math.abs(e)))}function Ao(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ve(t)-Ve(e))+1}function Oo(e,t,n,r){var o=Dr(e,t,n),a;switch(r=tt(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Ho(o,i))&&(r.precision=a),Qn(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Ao(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Eo(o))&&(r.precision=a-(r.type==="%")*2);break}}return Zn(r)}function Lo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return Oo(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,a=r.length-1,i=r[o],l=r[a],s,u,f=10;for(l<i&&(u=i,i=l,l=u,u=o,o=a,a=u);f-- >0;){if(u=pt(i,l,n),u===s)return r[o]=i,r[a]=l,t(r);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function xt(){var e=$o();return e.copy=function(){return wo(e,xt())},Fr.apply(e,arguments),Lo(e)}const nt=(e,t,n=1,r=!1)=>{if(e>t&&n>0||e<t&&n<0)return null;let o=[];if(r)for(let a=t;n>0?a>=e:a<=e;a-=n)o=[a,...o];else for(let a=e;n>0?a<=t:a>=t;a+=n)o.push(a);return o},$e=(e,t,n=1)=>{if(e>t&&n>0||e<t&&n<0)return null;const r=nt(e,0,n,!0),o=nt(n,t,n);return r&&o?[...r,...o]:[]},rn=(e,t)=>{const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},Ro=e=>e.height/2>e.width,jo=(e,t)=>{const n=Ro(t),r=n?t.width:t.height/2,o=n?t.height/2:t.width,a=r/e;let i=Math.floor(o/a);return i-=i%2==0?0:1,n?{x:[-e/2,e/2],y:[-i/2,i/2]}:{x:[-i/2,i/2],y:[-e/2,e/2]}};function wt(e,{delay:t=0,duration:n=400,easing:r=vt}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*o}`}}function on(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function an(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function ln(e,t,n){const r=e.slice();return r[21]=t[n],r}function sn(e,t,n){const r=e.slice();return r[21]=t[n],r}function un(e){let t,n=e[21]+"",r,o,a;return{c(){t=G("text"),r=V(n),d(t,"x",o=e[2].left-e[3]*.4),d(t,"y",a="+"+e[3]*.35)},m(i,l){R(i,t,l),p(t,r)},p(i,l){l&3&&n!==(n=i[21]+"")&&W(r,n),l&12&&o!==(o=i[2].left-i[3]*.4)&&d(t,"x",o),l&8&&a!==(a="+"+i[3]*.35)&&d(t,"y",a)},d(i){i&&L(t)}}}function fn(e){let t,n,r,o,a=e[6].indexOf(e[21])>=0,i,l,s=a&&un(e);return{c(){t=G("g"),n=G("line"),s&&s.c(),d(n,"x1",r=e[2].left),d(n,"x2",o=e[9](e[0].x[1])),Z(n,"bold-tick",e[6].indexOf(e[21])>=0),d(t,"class",i="tick tick-"+e[21]),d(t,"transform",l="translate(0, "+e[8](e[21])+")")},m(u,f){R(u,t,f),p(t,n),s&&s.m(t,null)},p(u,f){f&4&&r!==(r=u[2].left)&&d(n,"x1",r),f&513&&o!==(o=u[9](u[0].x[1]))&&d(n,"x2",o),f&67&&Z(n,"bold-tick",u[6].indexOf(u[21])>=0),f&67&&(a=u[6].indexOf(u[21])>=0),a?s?s.p(u,f):(s=un(u),s.c(),s.m(t,null)):s&&(s.d(1),s=null),f&3&&i!==(i="tick tick-"+u[21])&&d(t,"class",i),f&259&&l!==(l="translate(0, "+u[8](u[21])+")")&&d(t,"transform",l)},d(u){u&&L(t),s&&s.d()}}}function cn(e){let t,n=e[21]+"",r,o,a;return{c(){t=G("text"),r=V(n),d(t,"x",o="-"+e[3]*(e[21]>=0?0:.2)),d(t,"y",a=e[4]-(e[2].bottom-e[3]))},m(i,l){R(i,t,l),p(t,r)},p(i,l){l&3&&n!==(n=i[21]+"")&&W(r,n),l&11&&o!==(o="-"+i[3]*(i[21]>=0?0:.2))&&d(t,"x",o),l&28&&a!==(a=i[4]-(i[2].bottom-i[3]))&&d(t,"y",a)},d(i){i&&L(t)}}}function hn(e){let t,n,r,o,a=e[7].indexOf(e[21])>=0,i,l=a&&cn(e);return{c(){t=G("g"),n=G("line"),l&&l.c(),d(n,"y1",r=e[8](e[0].y[0])),d(n,"y2",o=e[8](e[0].y[1])),Z(n,"bold-tick",e[7].indexOf(e[21])>=0),d(t,"class","tick"),d(t,"transform",i="translate("+e[9](e[21])+",0)")},m(s,u){R(s,t,u),p(t,n),l&&l.m(t,null)},p(s,u){u&257&&r!==(r=s[8](s[0].y[0]))&&d(n,"y1",r),u&257&&o!==(o=s[8](s[0].y[1]))&&d(n,"y2",o),u&131&&Z(n,"bold-tick",s[7].indexOf(s[21])>=0),u&131&&(a=s[7].indexOf(s[21])>=0),a?l?l.p(s,u):(l=cn(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null),u&515&&i!==(i="translate("+s[9](s[21])+",0)")&&d(t,"transform",i)},d(s){s&&L(t),l&&l.d()}}}function qo(e){let t,n,r,o,a;return{c(){t=G("line"),d(t,"x1",n=e[9](e[10][e[19]-1].x)),d(t,"y1",r=e[8](e[10][e[19]-1].y)),d(t,"x2",o=e[9](e[17].x)),d(t,"y2",a=e[8](e[17].y)),d(t,"class","path-vector")},m(i,l){R(i,t,l)},p(i,l){l&1536&&n!==(n=i[9](i[10][i[19]-1].x))&&d(t,"x1",n),l&1280&&r!==(r=i[8](i[10][i[19]-1].y))&&d(t,"y1",r),l&1536&&o!==(o=i[9](i[17].x))&&d(t,"x2",o),l&1280&&a!==(a=i[8](i[17].y))&&d(t,"y2",a)},d(i){i&&L(t)}}}function dn(e){let t,n,r,o=e[19]>0&&qo(e);return{c(){t=G("g"),o&&o.c()},m(a,i){R(a,t,i),o&&o.m(t,null),r=!0},p(a,i){a[19]>0&&o.p(a,i)},i(a){r||(_e(()=>{r&&(n||(n=At(t,wt,{duration:100},!0)),n.run(1))}),r=!0)},o(a){n||(n=At(t,wt,{duration:100},!1)),n.run(0),r=!1},d(a){a&&L(t),o&&o.d(),a&&n&&n.end()}}}function gn(e){let t,n,r=e[17].x+"",o,a,i=e[17].y+"",l,s,u,f;return{c(){t=G("text"),n=V("("),o=V(r),a=V(","),l=V(i),s=V(")"),d(t,"x",u=e[9](e[17].x)+e[3]*.5),d(t,"y",f=e[8](e[17].y)+e[3])},m(c,h){R(c,t,h),p(t,n),p(t,o),p(t,a),p(t,l),p(t,s)},p(c,h){h&1024&&r!==(r=c[17].x+"")&&W(o,r),h&1024&&i!==(i=c[17].y+"")&&W(l,i),h&1544&&u!==(u=c[9](c[17].x)+c[3]*.5)&&d(t,"x",u),h&1288&&f!==(f=c[8](c[17].y)+c[3])&&d(t,"y",f)},d(c){c&&L(t)}}}function mn(e){let t,n,r,o,a,i=!e[11]&&e[19]==e[10].length-1&&gn(e);return{c(){t=G("circle"),i&&i.c(),a=Ae(),d(t,"cx",n=e[9](e[17].x)),d(t,"cy",r=e[8](e[17].y)),d(t,"r",o=!e[11]&&e[19]==e[10].length-1?rt:_n),d(t,"class","path-crd"),Z(t,"current-crd",e[19]==e[10].length-1)},m(l,s){R(l,t,s),i&&i.m(l,s),R(l,a,s)},p(l,s){s&1536&&n!==(n=l[9](l[17].x))&&d(t,"cx",n),s&1280&&r!==(r=l[8](l[17].y))&&d(t,"cy",r),s&3072&&o!==(o=!l[11]&&l[19]==l[10].length-1?rt:_n)&&d(t,"r",o),s&1024&&Z(t,"current-crd",l[19]==l[10].length-1),!l[11]&&l[19]==l[10].length-1?i?i.p(l,s):(i=gn(l),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(l){l&&L(t),i&&i.d(l),l&&L(a)}}}function pn(e){let t,n,r,o,a,i,l,s,u,f,c,h=e[11].x+"",_,x,v=e[11].y+"",k,y,P,$,w;return{c(){t=G("g"),n=G("line"),l=G("circle"),f=G("text"),c=V("("),_=V(h),x=V(","),k=V(v),y=V(")"),d(n,"x1",r=e[9](e[12].x)),d(n,"y1",o=e[8](e[12].y)),d(n,"x2",a=e[9](e[11].x)),d(n,"y2",i=e[8](e[11].y)),d(n,"class","hover-vector"),d(l,"cx",s=e[9](e[11].x)),d(l,"cy",u=e[8](e[11].y)),d(l,"r",rt),d(l,"class","hover-crd"),d(f,"x",P=e[9](e[11].x)+e[3]*.5),d(f,"y",$=e[8](e[11].y)+e[3])},m(b,C){R(b,t,C),p(t,n),p(t,l),p(t,f),p(f,c),p(f,_),p(f,x),p(f,k),p(f,y)},p(b,C){C&4608&&r!==(r=b[9](b[12].x))&&d(n,"x1",r),C&4352&&o!==(o=b[8](b[12].y))&&d(n,"y1",o),C&2560&&a!==(a=b[9](b[11].x))&&d(n,"x2",a),C&2304&&i!==(i=b[8](b[11].y))&&d(n,"y2",i),C&2560&&s!==(s=b[9](b[11].x))&&d(l,"cx",s),C&2304&&u!==(u=b[8](b[11].y))&&d(l,"cy",u),C&2048&&h!==(h=b[11].x+"")&&W(_,h),C&2048&&v!==(v=b[11].y+"")&&W(k,v),C&2568&&P!==(P=b[9](b[11].x)+b[3]*.5)&&d(f,"x",P),C&2312&&$!==($=b[8](b[11].y)+b[3])&&d(f,"y",$)},i(b){w||_e(()=>{w=_r(t,wt,{duration:100}),w.start()})},o:Y,d(b){b&&L(t)}}}function Bo(e){let t,n,r,o,a,i,l,s,u,f,c,h,_,x,v,k,y,P,$,w,b=$e(...e[0].y,Math.max(1,e[1]/5)),C=[];for(let m=0;m<b.length;m+=1)C[m]=fn(sn(e,b,m));let O=$e(...e[0].x,Math.max(1,e[1]/5)),z=[];for(let m=0;m<O.length;m+=1)z[m]=hn(ln(e,O,m));let B=e[10],E=[];for(let m=0;m<B.length;m+=1)E[m]=dn(an(e,B,m));const N=m=>A(E[m],1,1,()=>{E[m]=null});let I=e[10],H=[];for(let m=0;m<I.length;m+=1)H[m]=mn(on(e,I,m));let j=e[11]&&pn(e);return{c(){t=q("div"),n=G("svg"),r=G("g");for(let m=0;m<C.length;m+=1)C[m].c();o=G("g");for(let m=0;m<z.length;m+=1)z[m].c();a=G("g"),i=G("line"),f=G("g"),c=G("line");for(let m=0;m<E.length;m+=1)E[m].c();v=Ae();for(let m=0;m<H.length;m+=1)H[m].c();k=Ae(),j&&j.c(),y=G("circle"),d(r,"class","axis horizontal-axis"),d(o,"class","axis vertical-axis"),d(i,"y1",l=e[8](e[0].y[0])),d(i,"y2",s=e[8](e[0].y[1])),d(i,"class","cross-axis bold-tick"),d(a,"class","vertical-axis"),d(a,"transform",u="translate("+e[9](0)+",0)"),d(c,"x1",h=e[2].left),d(c,"x2",_=e[9](e[0].x[1])),d(c,"class","cross-axis bold-tick"),d(f,"class","horizontal-axis"),d(f,"transform",x="translate(0,"+e[8](0)+")"),d(y,"cx",P=e[9](e[13].targetCoordinate.x)),d(y,"cy",$=e[8](e[13].targetCoordinate.y)),d(y,"r",rt),d(y,"class","target-crd"),d(n,"class","svg-graph"),d(n,"id","graph"),d(t,"class","graph-panel")},m(m,M){R(m,t,M),p(t,n),p(n,r);for(let g=0;g<C.length;g+=1)C[g]&&C[g].m(r,null);p(n,o);for(let g=0;g<z.length;g+=1)z[g]&&z[g].m(o,null);p(n,a),p(a,i),p(n,f),p(f,c);for(let g=0;g<E.length;g+=1)E[g]&&E[g].m(n,null);p(n,v);for(let g=0;g<H.length;g+=1)H[g]&&H[g].m(n,null);p(n,k),j&&j.m(n,null),p(n,y),e[15](n),w=!0},p(m,[M]){if(M&847){b=$e(...m[0].y,Math.max(1,m[1]/5));let g;for(g=0;g<b.length;g+=1){const D=sn(m,b,g);C[g]?C[g].p(D,M):(C[g]=fn(D),C[g].c(),C[g].m(r,null))}for(;g<C.length;g+=1)C[g].d(1);C.length=b.length}if(M&927){O=$e(...m[0].x,Math.max(1,m[1]/5));let g;for(g=0;g<O.length;g+=1){const D=ln(m,O,g);z[g]?z[g].p(D,M):(z[g]=hn(D),z[g].c(),z[g].m(o,null))}for(;g<z.length;g+=1)z[g].d(1);z.length=O.length}if((!w||M&257&&l!==(l=m[8](m[0].y[0])))&&d(i,"y1",l),(!w||M&257&&s!==(s=m[8](m[0].y[1])))&&d(i,"y2",s),(!w||M&512&&u!==(u="translate("+m[9](0)+",0)"))&&d(a,"transform",u),(!w||M&4&&h!==(h=m[2].left))&&d(c,"x1",h),(!w||M&513&&_!==(_=m[9](m[0].x[1])))&&d(c,"x2",_),(!w||M&256&&x!==(x="translate(0,"+m[8](0)+")"))&&d(f,"transform",x),M&1792){B=m[10];let g;for(g=0;g<B.length;g+=1){const D=an(m,B,g);E[g]?(E[g].p(D,M),S(E[g],1)):(E[g]=dn(D),E[g].c(),S(E[g],1),E[g].m(n,v))}for(Ce(),g=B.length;g<E.length;g+=1)N(g);Ne()}if(M&3848){I=m[10];let g;for(g=0;g<I.length;g+=1){const D=on(m,I,g);H[g]?H[g].p(D,M):(H[g]=mn(D),H[g].c(),H[g].m(n,k))}for(;g<H.length;g+=1)H[g].d(1);H.length=I.length}m[11]?j?(j.p(m,M),M&2048&&S(j,1)):(j=pn(m),j.c(),S(j,1),j.m(n,y)):j&&(j.d(1),j=null),(!w||M&8704&&P!==(P=m[9](m[13].targetCoordinate.x)))&&d(y,"cx",P),(!w||M&8448&&$!==($=m[8](m[13].targetCoordinate.y)))&&d(y,"cy",$)},i(m){if(!w){for(let M=0;M<B.length;M+=1)S(E[M]);S(j),w=!0}},o(m){E=E.filter(Boolean);for(let M=0;M<E.length;M+=1)A(E[M]);w=!1},d(m){m&&L(t),we(C,m),we(z,m),we(E,m),we(H,m),j&&j.d(),e[15](null)}}}const _n="0.5vmax",rt="0.8vmax";function Io(e,t,n){let r,o,a,i,l,s,u,f,c,h,_,x,v;F(e,Pr,w=>n(4,f=w)),F(e,Pe,w=>n(14,c=w)),F(e,Fn,w=>n(10,h=w)),F(e,Sr,w=>n(11,_=w)),F(e,it,w=>n(12,x=w)),F(e,K,w=>n(13,v=w));let k,{domain:y={x:[0,0],y:[0,0]}}=t;const P=w=>{const b=w/2.5;return Math.max(b-b%5,5)};function $(w){dt[w?"unshift":"push"](()=>{k=w,n(5,k)})}return e.$$set=w=>{"domain"in w&&n(0,y=w.domain)},e.$$.update=()=>{e.$$.dirty&16384&&n(3,r=.05*c.width),e.$$.dirty&8&&n(2,o={top:r,right:r*3,bottom:r*2,left:r*2}),e.$$.dirty&16389&&n(9,a=xt().domain(y.x).range([o.left,c.width-o.right])),e.$$.dirty&21&&n(8,i=xt().domain(y.y).range([f-o.bottom,o.top])),e.$$.dirty&1&&n(1,l=Math.max(P(y.x[1]),P(y.y[1]))),e.$$.dirty&3&&n(7,s=$e(...y.x,l)),e.$$.dirty&3&&n(6,u=$e(...y.y,l))},[y,l,o,r,f,k,u,s,i,a,h,_,x,v,c,$]}class Go extends oe{constructor(t){super(),re(this,t,Io,Bo,te,{domain:0})}}function Do(e){let t,n,r,o,a,i,l,s;const u=e[11].default,f=Nn(u,e,e[10],null);return{c(){t=q("div"),n=q("div"),r=T(),o=q("div"),f&&f.c(),d(n,"class","btn-bg"),d(o,"class","btn-face"),d(t,"class",a="btn-container"+(e[3]?" ":"")+e[3].join(" ")),ae(t,"--widthPrecentage",e[0]+"%"),ae(t,"--heightPercentage",e[1]+"%"),Z(t,"active",e[7]),Z(t,"disabled",!e[2])},m(c,h){R(c,t,h),p(t,n),p(t,r),p(t,o),f&&f.m(o,null),i=!0,l||(s=[ge(t,"pointerup",function(){se(e[2]&&e[12])&&(e[2]&&e[12]).apply(this,arguments)}),ge(t,"pointerdown",function(){se(e[2]&&e[8](!0))&&(e[2]&&e[8](!0)).apply(this,arguments)}),ge(t,"pointerover",function(){se(e[2]&&e[4])&&(e[2]&&e[4]).apply(this,arguments)}),ge(t,"contextmenu",jn(Fo)),ge(t,"touchend",function(){se(e[2]&&e[13])&&(e[2]&&e[13]).apply(this,arguments)})],l=!0)},p(c,[h]){e=c,f&&f.p&&(!i||h&1024)&&zn(f,u,e,e[10],i?Vn(u,e[10],h,null):En(e[10]),null),(!i||h&8&&a!==(a="btn-container"+(e[3]?" ":"")+e[3].join(" ")))&&d(t,"class",a),(!i||h&1)&&ae(t,"--widthPrecentage",e[0]+"%"),(!i||h&2)&&ae(t,"--heightPercentage",e[1]+"%"),(!i||h&136)&&Z(t,"active",e[7]),(!i||h&12)&&Z(t,"disabled",!e[2])},i(c){i||(S(f,c),i=!0)},o(c){A(f,c),i=!1},d(c){c&&L(t),f&&f.d(c),l=!1,fe(s)}}}const Fo=()=>null;function To(e,t,n){let{$$slots:r={},$$scope:o}=t,{widthPrecentage:a=30}=t,{heightPercentage:i=90}=t,{isEnabled:l=!0}=t,{classes:s=[]}=t,{onHover:u=null}=t,{onMouseLeave:f=null}=t,{onClick:c=null}=t,h=!1,_=y=>()=>{n(7,h=y)};const x=y=>{let P=y.target.getBoundingClientRect(),$=y.changedTouches[0];return $.clientX>P.x&&$.clientX<P.x+P.width&&$.clientY>P.y&&$.clientY<P.y+P.height},v=()=>{c(),n(7,h=!1),f&&f()},k=y=>{h&&(_(!1)(),f&&f(),x(y)&&c())};return e.$$set=y=>{"widthPrecentage"in y&&n(0,a=y.widthPrecentage),"heightPercentage"in y&&n(1,i=y.heightPercentage),"isEnabled"in y&&n(2,l=y.isEnabled),"classes"in y&&n(3,s=y.classes),"onHover"in y&&n(4,u=y.onHover),"onMouseLeave"in y&&n(5,f=y.onMouseLeave),"onClick"in y&&n(6,c=y.onClick),"$$scope"in y&&n(10,o=y.$$scope)},[a,i,l,s,u,f,c,h,_,x,o,r,v,k]}class he extends oe{constructor(t){super(),re(this,t,To,Do,te,{widthPrecentage:0,heightPercentage:1,isEnabled:2,classes:3,onHover:4,onMouseLeave:5,onClick:6})}}function Uo(e){let t,n=e[0].x.name+"",r,o,a,i=e[0].y.name+"",l;return{c(){t=q("span"),r=V(n),o=T(),a=q("span"),l=V(i),d(t,"class","x-op-name"),d(a,"class","y-op-name")},m(s,u){R(s,t,u),p(t,r),R(s,o,u),R(s,a,u),p(a,l)},p(s,u){u&1&&n!==(n=s[0].x.name+"")&&W(r,n),u&1&&i!==(i=s[0].y.name+"")&&W(l,i)},d(s){s&&L(t),s&&L(o),s&&L(a)}}}function Xo(e){let t,n;return t=new he({props:{classes:e[2],onHover:e[6],onClick:e[5],onMouseLeave:K.removeHoverCoordinate,isEnabled:e[4]&&Ot(e[0],e[3],e[1]),$$slots:{default:[Uo]},$$scope:{ctx:e}}}),{c(){J(t.$$.fragment)},m(r,o){U(t,r,o),n=!0},p(r,[o]){const a={};o&4&&(a.classes=r[2]),o&27&&(a.isEnabled=r[4]&&Ot(r[0],r[3],r[1])),o&129&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function Yo(e,t,n){let r,o;F(e,it,f=>n(3,r=f)),F(e,Cr,f=>n(4,o=f));let{operation:a}=t,{domain:i}=t,l=[];const s=()=>{const f={x:a.x.action(r),y:a.y.action(r)};K.addCoordinate(f,i)},u=()=>{const f={x:a.x.action(r),y:a.y.action(r)};K.addHoverCoordinate(f,i)};return e.$$set=f=>{"operation"in f&&n(0,a=f.operation),"domain"in f&&n(1,i=f.domain)},e.$$.update=()=>{e.$$.dirty&5&&(n(2,l=[]),a.x.name&&l.push("x-op-btn"),a.y.name&&l.push("y-op-btn"))},[a,i,l,r,o,s,u]}class Jo extends oe{constructor(t){super(),re(this,t,Yo,Xo,te,{operation:0,domain:1})}}function Ko(e){let t;return{c(){t=V("Undo")},m(n,r){R(n,t,r)},d(n){n&&L(t)}}}function Wo(e){let t,n;return t=new he({props:{classes:e[0]?["warn-btn"]:[],onClick:e[0]?e[2]:K.removeLastCoordinate,isEnabled:!(e[1].length<=1),$$slots:{default:[Ko]},$$scope:{ctx:e}}}),{c(){J(t.$$.fragment)},m(r,o){U(t,r,o),n=!0},p(r,[o]){const a={};o&1&&(a.classes=r[0]?["warn-btn"]:[]),o&1&&(a.onClick=r[0]?r[2]:K.removeLastCoordinate),o&2&&(a.isEnabled=!(r[1].length<=1)),o&8&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function Zo(e,t,n){let r,o;F(e,Fn,i=>n(1,o=i));const a=()=>{qn("isSurePrompt",!1)};return n(0,r=hr("isSurePrompt")),[r,o,a]}class Qo extends oe{constructor(t){super(),re(this,t,Zo,Wo,te,{})}}const ei=()=>{const{subscribe:e,set:t,update:n}=qe(!1);return{subscribe:e,enableAdmin:()=>t(!0),disableAdmin:()=>t(!1),toggleAdmin:()=>n(r=>!r),set:t}},er=ei();function ti(e){let t;return{c(){t=V("Next")},m(n,r){R(n,t,r)},d(n){n&&L(t)}}}function ni(e){let t,n;return t=new he({props:{onClick:e[2],isEnabled:e[0]||e[1],classes:e[1]?["success-btn"]:[],$$slots:{default:[ti]},$$scope:{ctx:e}}}),{c(){J(t.$$.fragment)},m(r,o){U(t,r,o),n=!0},p(r,[o]){const a={};o&3&&(a.isEnabled=r[0]||r[1]),o&2&&(a.classes=r[1]?["success-btn"]:[]),o&16&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function ri(e,t,n){let r,o;F(e,er,l=>n(0,r=l)),F(e,Tn,l=>n(1,o=l));const a=()=>{const l=Dn();K.setGameConfiguration(l)};return[r,o,()=>{Je.increment(),a()}]}class oi extends oe{constructor(t){super(),re(this,t,ri,ni,te,{})}}function ii(e){let t;return{c(){t=V("Level:")},m(n,r){R(n,t,r)},d(n){n&&L(t)}}}function ai(e){let t,n,r,o,a,i,l;return n=new Qo({}),o=new he({props:{isEnabled:!1,$$slots:{default:[ii]},$$scope:{ctx:e}}}),i=new oi({}),{c(){t=q("div"),J(n.$$.fragment),r=T(),J(o.$$.fragment),a=T(),J(i.$$.fragment),d(t,"class","options-panel")},m(s,u){R(s,t,u),U(n,t,null),p(t,r),U(o,t,null),p(t,a),U(i,t,null),l=!0},p(s,[u]){const f={};u&1&&(f.$$scope={dirty:u,ctx:s}),o.$set(f)},i(s){l||(S(n.$$.fragment,s),S(o.$$.fragment,s),S(i.$$.fragment,s),l=!0)},o(s){A(n.$$.fragment,s),A(o.$$.fragment,s),A(i.$$.fragment,s),l=!1},d(s){s&&L(t),X(n),X(o),X(i)}}}function li(e){return qn("isSurePrompt",!1),[]}class si extends oe{constructor(t){super(),re(this,t,li,ai,te,{})}}function yn(e,t,n){const r=e.slice();return r[2]=t[n],r[4]=n,r}function bn(e,t,n){const r=e.slice();return r[5]=t[n],r}function xn(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function wn(e,t){let n,r,o;return r=new Jo({props:{operation:t[8],domain:t[0]}}),{key:e,first:null,c(){n=Ae(),J(r.$$.fragment),this.first=n},m(a,i){R(a,n,i),U(r,a,i),o=!0},p(a,i){t=a;const l={};i&2&&(l.operation=t[8]),i&1&&(l.domain=t[0]),r.$set(l)},i(a){o||(S(r.$$.fragment,a),o=!0)},o(a){A(r.$$.fragment,a),o=!1},d(a){a&&L(n),X(r,a)}}}function vn(e){let t,n,r=nt(0,2-e[2].length),o=[];for(let i=0;i<r.length;i+=1)o[i]=$n(bn(e,r,i));const a=i=>A(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();t=Ae()},m(i,l){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,l);R(i,t,l),n=!0},p(i,l){if(l&2){r=nt(0,2-i[2].length);let s;for(s=0;s<r.length;s+=1){const u=bn(i,r,s);o[s]?(o[s].p(u,l),S(o[s],1)):(o[s]=$n(),o[s].c(),S(o[s],1),o[s].m(t.parentNode,t))}for(Ce(),s=r.length;s<o.length;s+=1)a(s);Ne()}},i(i){if(!n){for(let l=0;l<r.length;l+=1)S(o[l]);n=!0}},o(i){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)A(o[l]);n=!1},d(i){we(o,i),i&&L(t)}}}function $n(e){let t,n;return t=new he({props:{isEnabled:!1}}),{c(){J(t.$$.fragment)},m(r,o){U(t,r,o),n=!0},p:Y,i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function Mn(e){let t,n=[],r=new Map,o,a,i=e[2];const l=u=>u[10];for(let u=0;u<i.length;u+=1){let f=xn(e,i,u),c=l(f);r.set(c,n[u]=wn(c,f))}let s=e[2].length<3&&vn(e);return{c(){t=q("div");for(let u=0;u<n.length;u+=1)n[u].c();o=T(),s&&s.c(),d(t,"class","btn-panel-row btn-panel-row-"+e[4]),ae(t,"--heightPercentage",tr+"%")},m(u,f){R(u,t,f);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);p(t,o),s&&s.m(t,null),a=!0},p(u,f){f&3&&(i=u[2],Ce(),n=br(n,f,l,1,u,i,r,t,yr,wn,o,xn),Ne()),u[2].length<3?s?(s.p(u,f),f&2&&S(s,1)):(s=vn(u),s.c(),S(s,1),s.m(t,null)):s&&(Ce(),A(s,1,1,()=>{s=null}),Ne())},i(u){if(!a){for(let f=0;f<i.length;f+=1)S(n[f]);S(s),a=!0}},o(u){for(let f=0;f<n.length;f+=1)A(n[f]);A(s),a=!1},d(u){u&&L(t);for(let f=0;f<n.length;f+=1)n[f].d();s&&s.d()}}}function kn(e){let t,n,r,o,a,i,l;return n=new he({props:{isEnabled:!1}}),o=new he({props:{isEnabled:!1}}),i=new he({props:{isEnabled:!1}}),{c(){t=q("div"),J(n.$$.fragment),r=T(),J(o.$$.fragment),a=T(),J(i.$$.fragment),d(t,"class","btn-panel-row btn-panel-row-1"),ae(t,"--heightPercentage",tr+"%")},m(s,u){R(s,t,u),U(n,t,null),p(t,r),U(o,t,null),p(t,a),U(i,t,null),l=!0},p:Y,i(s){l||(S(n.$$.fragment,s),S(o.$$.fragment,s),S(i.$$.fragment,s),l=!0)},o(s){A(n.$$.fragment,s),A(o.$$.fragment,s),A(i.$$.fragment,s),l=!1},d(s){s&&L(t),X(n),X(o),X(i)}}}function ui(e){let t,n,r,o,a,i=rn(e[1].operations,3),l=[];for(let f=0;f<i.length;f+=1)l[f]=Mn(yn(e,i,f));const s=f=>A(l[f],1,1,()=>{l[f]=null});let u=e[1].operations.length<=3&&kn();return o=new si({}),{c(){t=q("div");for(let f=0;f<l.length;f+=1)l[f].c();n=T(),u&&u.c(),r=T(),J(o.$$.fragment),d(t,"class","btn-panel")},m(f,c){R(f,t,c);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(t,null);p(t,n),u&&u.m(t,null),p(t,r),U(o,t,null),a=!0},p(f,[c]){if(c&3){i=rn(f[1].operations,3);let h;for(h=0;h<i.length;h+=1){const _=yn(f,i,h);l[h]?(l[h].p(_,c),S(l[h],1)):(l[h]=Mn(_),l[h].c(),S(l[h],1),l[h].m(t,n))}for(Ce(),h=i.length;h<l.length;h+=1)s(h);Ne()}f[1].operations.length<=3?u?(u.p(f,c),c&2&&S(u,1)):(u=kn(),u.c(),S(u,1),u.m(t,r)):u&&(Ce(),A(u,1,1,()=>{u=null}),Ne())},i(f){if(!a){for(let c=0;c<i.length;c+=1)S(l[c]);S(u),S(o.$$.fragment,f),a=!0}},o(f){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)A(l[c]);A(u),A(o.$$.fragment,f),a=!1},d(f){f&&L(t),we(l,f),u&&u.d(),X(o)}}}const tr=35;function fi(e,t,n){let r;F(e,K,a=>n(1,r=a));let{domain:o}=t;return e.$$set=a=>{"domain"in a&&n(0,o=a.domain)},[o,r]}class ci extends oe{constructor(t){super(),re(this,t,fi,ui,te,{domain:0})}}function hi(e){let t,n,r,o,a,i,l,s,u,f,c,h,_,x,v,k,y,P,$,w,b=e[2].x+"",C,O,z=e[2].y+"",B,E,N,I,H,j,m,M,g,D=e[3].targetCoordinate.x+"",ee,Pt,Ie=e[3].targetCoordinate.y+"",at,Vt,lt,zt;return{c(){t=q("div"),n=q("span"),r=V(`Level:\r
        `),o=q("br"),a=T(),i=V(e[0]),l=T(),s=q("span"),u=V(`Moves:\r
        `),f=q("br"),c=T(),h=q("b"),_=V(e[1]),x=T(),v=q("span"),k=V(`Current:\r
        `),y=q("br"),P=T(),$=q("b"),w=V("("),C=V(b),O=V(", "),B=V(z),E=V(")"),N=T(),I=q("span"),H=V(`Goal:\r
        `),j=q("br"),m=T(),M=q("b"),g=V("("),ee=V(D),Pt=V(", "),at=V(Ie),Vt=V(")"),d(n,"class","status-panel-item status-panel-level-item"),d(s,"class","status-panel-item"),d(v,"class","status-panel-item"),d(I,"class","status-panel-item"),d(t,"class","status-panel")},m(ie,ce){R(ie,t,ce),p(t,n),p(n,r),p(n,o),p(n,a),p(n,i),p(t,l),p(t,s),p(s,u),p(s,f),p(s,c),p(s,h),p(h,_),p(t,x),p(t,v),p(v,k),p(v,y),p(v,P),p(v,$),p($,w),p($,C),p($,O),p($,B),p($,E),p(t,N),p(t,I),p(I,H),p(I,j),p(I,m),p(I,M),p(M,g),p(M,ee),p(M,Pt),p(M,at),p(M,Vt),lt||(zt=ge(s,"click",er.toggleAdmin),lt=!0)},p(ie,[ce]){ce&1&&W(i,ie[0]),ce&2&&W(_,ie[1]),ce&4&&b!==(b=ie[2].x+"")&&W(C,b),ce&4&&z!==(z=ie[2].y+"")&&W(B,z),ce&8&&D!==(D=ie[3].targetCoordinate.x+"")&&W(ee,D),ce&8&&Ie!==(Ie=ie[3].targetCoordinate.y+"")&&W(at,Ie)},i:Y,o:Y,d(ie){ie&&L(t),lt=!1,zt()}}}function di(e,t,n){let r,o,a,i;return F(e,Je,l=>n(0,r=l)),F(e,Un,l=>n(1,o=l)),F(e,it,l=>n(2,a=l)),F(e,K,l=>n(3,i=l)),[r,o,a,i]}class gi extends oe{constructor(t){super(),re(this,t,di,hi,te,{})}}function mi(e){let t,n,r,o,a,i,l;return n=new gi({}),o=new Go({props:{domain:e[1]}}),i=new ci({props:{domain:e[1]}}),{c(){t=q("div"),J(n.$$.fragment),r=T(),J(o.$$.fragment),a=T(),J(i.$$.fragment),d(t,"class","puzzle-session"),Z(t,"landscape",!e[0]),Z(t,"portrait",e[0])},m(s,u){R(s,t,u),U(n,t,null),p(t,r),U(o,t,null),p(t,a),U(i,t,null),l=!0},p(s,[u]){const f={};u&2&&(f.domain=s[1]),o.$set(f);const c={};u&2&&(c.domain=s[1]),i.$set(c),(!l||u&1)&&Z(t,"landscape",!s[0]),(!l||u&1)&&Z(t,"portrait",s[0])},i(s){l||(S(n.$$.fragment,s),S(o.$$.fragment,s),S(i.$$.fragment,s),l=!0)},o(s){A(n.$$.fragment,s),A(o.$$.fragment,s),A(i.$$.fragment,s),l=!1},d(s){s&&L(t),X(n),X(o),X(i)}}}function pi(e,t,n){let r,o,a,i;return F(e,Pe,l=>n(2,a=l)),F(e,K,l=>n(3,i=l)),Mt(()=>{K.resetGameState()}),e.$$.update=()=>{e.$$.dirty&12&&n(1,r=jo(i.boardSideSize,a)),e.$$.dirty&4&&n(0,o=a.height>a.width)},[o,r,a,i]}class _i extends oe{constructor(t){super(),re(this,t,pi,mi,te,{})}}function yi(e){let t,n;return t=new _i({}),{c(){J(t.$$.fragment)},m(r,o){U(t,r,o),n=!0},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){X(t,r)}}}function bi(e){let t,n,r,o,a,i,l;return r=new Er({props:{$$slots:{default:[yi]},$$scope:{ctx:e}}}),{c(){t=q("main"),n=q("div"),J(r.$$.fragment),d(n,"id","vectory-app"),d(t,"class",o=e[0]+"-theme")},m(s,u){R(s,t,u),p(t,n),U(r,n,null),a=!0,i||(l=ge(t,"contextmenu",jn(null)),i=!0)},p(s,[u]){const f={};u&4&&(f.$$scope={dirty:u,ctx:s}),r.$set(f),(!a||u&1&&o!==(o=s[0]+"-theme"))&&d(t,"class",o)},i(s){a||(S(r.$$.fragment,s),a=!0)},o(s){A(r.$$.fragment,s),a=!1},d(s){s&&L(t),X(r),i=!1,l()}}}function xi(e,t,n){let r;Mt(()=>{r=Dn(),K.setGameConfiguration(r)});let{theme:o="default"}=t;return e.$$set=a=>{"theme"in a&&n(0,o=a.theme)},[o]}class wi extends oe{constructor(t){super(),re(this,t,xi,bi,te,{theme:0})}}new wi({target:document.body,props:{}});
